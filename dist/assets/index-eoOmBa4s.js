import{j as e}from"./framer-motion-DWBc7xLt.js";import{a as t,R as s}from"./echarts-C5_C3nse.js";import{r as a,u as r,a as l,R as n,b as i,L as o,c,d,B as m}from"./vendor-CLtRnT5D.js";import{_ as x,h as u}from"./syntax-highlighter-aKmjeZlj.js";import{M as h,r as g,E as p}from"./markdown-DsrbQS6W.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var f,b={};var j=function(){if(f)return b;f=1;var e=a();return b.createRoot=e.createRoot,b.hydrateRoot=e.hydrateRoot,b}();function v(){const s=r(),a=l(),[n,i]=t.useState(!1);t.useEffect(()=>{const e=document.getElementById("mainNav");if(!e)return;const t=()=>{window.scrollY>50?e.classList.add("nav-scrolled"):e.classList.remove("nav-scrolled")};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const o=e=>{const t=()=>{const t=document.getElementById(e);if(t){const e=64,s=t.offsetTop-e;window.scrollTo({top:s,behavior:"smooth"})}};"/"!==a.pathname?(s("/"),setTimeout(t,100)):t()},c=()=>{"/"===a.pathname?o("work"):s("/works")},d=()=>{"/"===a.pathname?o("blog"):s("/blogs")};return e.jsxs("nav",{id:"mainNav",className:"fixed top-0 left-0 right-0 z-50 py-4 px-6 transition-all duration-300",children:[e.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-[#165DFF] cursor-pointer",onClick:()=>{"/"===a.pathname?window.scrollTo({top:0,behavior:"smooth"}):s("/")},children:"HJXLOG"}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium",onClick:()=>{"/"===a.pathname?window.scrollTo({top:0,behavior:"smooth"}):s("/")},children:"首页"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium",onClick:()=>o("about"),children:"关于"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium",onClick:c,children:"作品"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium",onClick:d,children:"博客"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium",onClick:()=>o("contact"),children:"联系"})]}),e.jsx("button",{className:"md:hidden text-slate-600",onClick:()=>i(!n),children:e.jsx("i",{className:n?"fas fa-times text-2xl":"fas fa-bars text-2xl"})})]}),n&&e.jsx("div",{className:"md:hidden mt-4 pb-4",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium text-left",onClick:()=>{i(!1),"/"===a.pathname?window.scrollTo({top:0,behavior:"smooth"}):s("/")},children:"首页"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium text-left",onClick:()=>{i(!1),o("about")},children:"关于"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium text-left",onClick:()=>{i(!1),c()},children:"作品"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium text-left",onClick:()=>{i(!1),d()},children:"博客"}),e.jsx("button",{className:"text-slate-600 hover:text-[#165DFF] transition-colors font-medium text-left",onClick:()=>{i(!1),o("contact")},children:"联系"})]})})]})}const y=()=>e.jsx("footer",{className:"py-8 px-6 bg-slate-900 text-white",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"mb-4 md:mb-0",children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"HJXLOG"}),e.jsx("p",{className:"text-slate-400",children:"创意设计与前沿开发"})]}),e.jsxs("div",{className:"text-center md:text-right",children:[e.jsx("p",{className:"text-slate-400 mb-2",children:"© 2023 HJXLOG. 保留所有权利."}),e.jsx("p",{className:"text-slate-400",children:"专注于创意设计与技术开发"})]})]})})}),N=t.lazy(()=>x(()=>import("./echarts-C5_C3nse.js").then(e=>e.i),[]));function w(){const s=r(),[a,l]=t.useState({works:[],blogs:[]}),[n,i]=t.useState(!0),[o,c]=t.useState(null),[d,m]=t.useState({name:"",email:"",subject:"",message:""}),[x,u]=t.useState(!1),[h,g]=t.useState(""),[p,f]=t.useState(!1),b=e=>{const{name:t,value:s}=e.target;m(e=>({...e,[t]:s}))};t.useEffect(()=>{const e=setTimeout(()=>{(async()=>{try{i(!0),c(null);const e=await fetch("http://localhost:3006/api/featured");if(!e.ok)throw new Error(`HTTP错误: ${e.status}`);const t=await e.json();if(!t.success)throw new Error(t.message||"获取推荐内容失败");l(t.data)}catch(e){c(e.message),l({works:[],blogs:[]})}finally{i(!1)}})()},100);return()=>clearTimeout(e)},[]);return t.useEffect(()=>{const e=()=>{document.querySelectorAll(".fade-in").forEach(e=>{e.getBoundingClientRect().top<window.innerHeight-100&&e.classList.add("visible")})},t=setTimeout(e,100);return window.addEventListener("scroll",e),window.addEventListener("load",e),()=>{clearTimeout(t),window.removeEventListener("scroll",e)}},[a]),t.useEffect(()=>{const e=document.getElementById("mainNav");if(!e)return;const t=()=>{window.scrollY>50?e.classList.add("nav-scrolled"):e.classList.remove("nav-scrolled")};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),t.useEffect(()=>{const e=document.getElementById("backToTop");if(!e)return;const t=()=>{window.scrollY>300?(e.classList.remove("opacity-0","invisible"),e.classList.add("opacity-100","visible")):(e.classList.remove("opacity-100","visible"),e.classList.add("opacity-0","invisible"))},s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("scroll",t),e.addEventListener("click",s),()=>{window.removeEventListener("scroll",t),e.removeEventListener("click",s)}},[]),e.jsxs("div",{className:"relative min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsxs("main",{className:"pt-20 pb-16",children:[e.jsx("section",{id:"home",className:"min-h-screen flex items-center pt-20 pb-16 px-6",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-slate-800",children:"探索 · 创造 · 突破"}),e.jsx("p",{className:"text-xl md:text-2xl text-slate-600 mb-10",children:"有趣的灵魂 · 专业的技术 · 前沿的视野"}),e.jsx("a",{href:"#work",className:"inline-block px-8 py-3 gradient-btn rounded-full font-medium shadow-lg hover:shadow-xl transition-all",onClick:e=>{e.preventDefault();const t=document.getElementById("work");if(t){const e=t.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}},children:"查看作品"})]})})}),e.jsx("section",{className:"py-16 px-6 bg-white",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-12 text-center text-slate-800",children:"专业技能"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"glass-card p-6 fade-in",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] mr-4",children:e.jsx("i",{className:"fas fa-server text-xl"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"服务端开发"})]}),e.jsx("div",{className:"progress-bar mb-2",children:e.jsx("div",{className:"progress-fill",style:{width:"90%"}})}),e.jsx("p",{className:"text-sm text-slate-500",children:"Java、Spring Boot、PostgreSQL"})]}),e.jsxs("div",{className:"glass-card p-6 fade-in",style:{animationDelay:"0.2s"},children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#36CFC9]/10 flex items-center justify-center text-[#36CFC9] mr-4",children:e.jsx("i",{className:"fas fa-robot text-xl"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"AI Agent"})]}),e.jsx("div",{className:"progress-bar mb-2",children:e.jsx("div",{className:"progress-fill",style:{width:"60%"}})}),e.jsx("p",{className:"text-sm text-slate-500",children:"Prompt、RAG、MCP、任务流"})]}),e.jsxs("div",{className:"glass-card p-6 fade-in",style:{animationDelay:"0.4s"},children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] mr-4",children:e.jsx("i",{className:"fas fa-code text-xl"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"前端开发"})]}),e.jsx("div",{className:"progress-bar mb-2",children:e.jsx("div",{className:"progress-fill",style:{width:"40%"}})}),e.jsx("p",{className:"text-sm text-slate-500",children:"Vue、React"})]})]})]})}),e.jsx("section",{id:"work",className:"py-16 px-6 bg-slate-50",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-12 text-center text-slate-800",children:"精选作品"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n?Array.from({length:3}).map((t,s)=>e.jsxs("div",{className:"glass-card overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded mb-4"}),e.jsx("div",{className:"h-6 bg-slate-200 rounded w-20"})]})]},s)):a.works.length>0?a.works.map((t,a)=>e.jsxs("div",{className:"glass-card overflow-hidden fade-in cursor-pointer",style:{animationDelay:.2*a+"s"},onClick:()=>s(`/works/${t.id}`),children:[t.cover_image&&e.jsx("img",{src:t.cover_image,alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-slate-800",children:t.title}),e.jsx("p",{className:"text-slate-600 mb-4",children:t.description}),e.jsx("span",{className:"inline-block px-3 py-1 bg-[#165DFF]/10 text-[#165DFF] rounded-full text-sm",children:t.category})]})]},t.id)):e.jsx("div",{className:"col-span-3 text-center py-12",children:e.jsx("p",{className:"text-slate-500",children:"暂无推荐作品"})})}),e.jsx("div",{className:"text-center mt-12",children:e.jsx("button",{className:"inline-block px-6 py-2 outline-btn rounded-full font-medium",onClick:()=>s("/works"),children:"查看全部作品"})})]})}),e.jsx("section",{id:"about",className:"py-16 px-6 bg-white",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-12 text-center text-slate-800",children:"关于我"}),e.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"fade-in",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-slate-800",children:"个人简介"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"我是一名全栈Java开发工程师，拥有6年后端系统架构经验，目前专注于AI开发与智能体（Agent）技术，致力于构建高性能、智能化的企业级解决方案。"}),e.jsx("p",{className:"text-slate-600",children:"我的核心方向是将传统业务系统与AI技术结合，通过LLM集成、RAG知识库和自动化任务流等，帮助业务实现数据驱动决策与流程智能化升级。"})]}),e.jsxs("div",{className:"fade-in",style:{animationDelay:"0.2s"},children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-slate-800",children:"技能雷达图"}),e.jsx("div",{className:"w-full h-80 bg-white rounded-xl shadow-sm border border-slate-200",children:e.jsx(t.Suspense,{fallback:e.jsxs("div",{className:"flex items-center justify-center h-80",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-slate-600",children:"加载图表中..."})]}),children:e.jsx(N,{option:{title:{left:"center",textStyle:{color:"#334155",fontSize:16,fontWeight:"bold"}},radar:{indicator:[{name:"Java",max:100},{name:"数据库",max:100},{name:"前端开发",max:100},{name:"运维部署",max:100},{name:"架构设计",max:100},{name:"AI技术",max:100}],shape:"polygon",radius:"70%",axisName:{color:"#64748b",fontSize:12},splitLine:{lineStyle:{color:"#e2e8f0"}},splitArea:{areaStyle:{color:["rgba(22, 93, 255, 0.05)","rgba(22, 93, 255, 0.1)"]}}},series:[{name:"技能水平",type:"radar",data:[{value:[90,80,70,65,60,75],name:"当前技能",areaStyle:{color:"rgba(22, 93, 255, 0.2)"},lineStyle:{color:"#165DFF",width:2},itemStyle:{color:"#165DFF"}}]}],color:["#165DFF"]},style:{height:"320px",width:"100%"}})})})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto mt-16 fade-in",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-8 text-slate-800",children:"职业经历"}),e.jsxs("div",{className:"relative pl-8",children:[e.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col items-center",children:[e.jsx("div",{className:"timeline-dot"}),e.jsx("div",{className:"timeline-line flex-grow w-px"})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-800",children:"AI Agent开发"}),e.jsx("p",{className:"text-[#36CFC9] mb-2",children:"金蝶 · 2022-至今"}),e.jsx("p",{className:"text-slate-600",children:"主导HR业务系统开发与AI Agent研发，实现人力资源全流程自动化与智能决策赋能。"})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-800",children:"Java开发工程师"}),e.jsx("p",{className:"text-[#36CFC9] mb-2",children:"金证优智 · 2021-2022"}),e.jsx("p",{className:"text-slate-600",children:"负责金融舆情系统与智能标注平台研发，赋能投研决策与风控管理。"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-800",children:"MES系统开发"}),e.jsx("p",{className:"text-[#36CFC9] mb-2",children:"深科技  · 2019-2021"}),e.jsx("p",{className:"text-slate-600",children:"负责开发公司核心MES系统，多系统异构集成，推动智能制造数字化升级。"})]})]})]})]})}),e.jsx("section",{id:"blog",className:"py-16 px-6 bg-slate-50",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-12 text-center text-slate-800",children:"推荐文章"}),e.jsx("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:n?Array.from({length:2}).map((t,s)=>e.jsxs("div",{className:"glass-card overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded mb-3 w-32"}),e.jsx("div",{className:"h-6 bg-slate-200 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded mb-4"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded w-20"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-16"})]})]})]},s)):a.blogs.length>0?a.blogs.map((t,a)=>e.jsxs("div",{className:"glass-card overflow-hidden fade-in cursor-pointer",style:{animationDelay:.2*a+"s"},onClick:()=>s(`/blog/${t.id}`),children:[t.cover_image&&e.jsx("img",{src:t.cover_image,alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-slate-500 mb-3",children:[e.jsx("span",{children:new Date(t.created_at).toLocaleDateString("zh-CN")}),e.jsx("span",{className:"mx-2",children:"·"}),e.jsx("span",{children:t.author})]}),e.jsx("h3",{className:"text-xl font-semibold mb-3 text-slate-800",children:t.title}),e.jsx("p",{className:"text-slate-600 mb-4",children:t.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[#165DFF] font-medium hover:underline",children:"阅读更多"}),e.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[e.jsx("i",{className:"fas fa-eye mr-1"}),e.jsx("span",{children:t.views||0})]})]})]})]},t.id)):e.jsx("div",{className:"col-span-2 text-center py-12",children:e.jsx("p",{className:"text-slate-500",children:"暂无推荐文章"})})}),e.jsx("div",{className:"text-center mt-12",children:e.jsx("button",{className:"inline-block px-6 py-2 outline-btn rounded-full font-medium",onClick:()=>s("/blogs"),children:"查看全部文章"})})]})}),e.jsx("section",{id:"contact",className:"py-16 px-6 bg-white",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-12 text-center text-slate-800",children:"联系我"}),e.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"fade-in",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-slate-800",children:"发送消息"}),e.jsxs("form",{className:"space-y-6",onSubmit:async e=>{if(e.preventDefault(),!d.name||!d.email||!d.message)return g("请填写所有必填字段"),void f(!1);u(!0),g("");try{const e=await fetch("http://localhost:3006/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name,email:d.email,subject:d.subject||"来自网站的消息",message:d.message})}),t=await e.json();t.success?(g("消息发送成功！我会尽快回复您。"),f(!0),m({name:"",email:"",subject:"",message:""})):(g(t.message||"发送失败，请稍后重试"),f(!1))}catch(t){g("发送失败，请检查网络连接后重试"),f(!1)}finally{u(!1)}},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"姓名 *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:d.name,onChange:b,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"邮箱 *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:d.email,onChange:b,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"form-label",children:"主题"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:d.subject,onChange:b,className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"form-label",children:"消息 *"}),e.jsx("textarea",{id:"message",name:"message",value:d.message,onChange:b,rows:4,className:"form-input",required:!0})]}),h&&e.jsx("div",{className:"p-3 rounded-lg text-sm "+(p?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:h}),e.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 gradient-btn rounded-full font-medium shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:x?"发送中...":"发送消息"})]})]}),e.jsxs("div",{className:"fade-in",style:{animationDelay:"0.2s"},children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-slate-800",children:"联系方式"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] mr-4 mt-1",children:e.jsx("i",{className:"fas fa-envelope"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800",children:"邮箱"}),e.jsx("p",{className:"text-slate-600",children:"hjxlog@gmail.com"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#36CFC9]/10 flex items-center justify-center text-[#36CFC9] mr-4 mt-1",children:e.jsx("i",{className:"fab fa-weixin"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800",children:"微信"}),e.jsx("p",{className:"text-slate-600",children:"hjxlog（添加请备注来意）"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] mr-4 mt-1",children:e.jsx("i",{className:"fas fa-map-marker-alt"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800",children:"地址"}),e.jsx("p",{className:"text-slate-600",children:"中国深圳市南山区高新南七道"})]})]})]}),e.jsx("h3",{className:"text-2xl font-semibold mt-10 mb-6 text-slate-800",children:"社交媒体"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] hover:bg-[#165DFF] hover:text-white transition",children:e.jsx("i",{className:"fab fa-twitter"})}),e.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] hover:bg-[#165DFF] hover:text-white transition",children:e.jsx("i",{className:"fab fa-linkedin-in"})}),e.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] hover:bg-[#165DFF] hover:text-white transition",children:e.jsx("i",{className:"fab fa-dribbble"})}),e.jsx("a",{target:"_blank",href:"https://github.com/hjxlog",className:"w-10 h-10 rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] hover:bg-[#165DFF] hover:text-white transition",children:e.jsx("i",{className:"fab fa-github"})})]})]})]})]})})]}),e.jsx(y,{}),e.jsx("button",{id:"backToTop",className:"fixed bottom-8 right-8 w-12 h-12 rounded-full bg-[#165DFF] text-white shadow-lg flex items-center justify-center opacity-0 invisible transition-all",children:e.jsx("i",{className:"fas fa-arrow-up"})})]})}const k=t.createContext({isAuthenticated:!1,user:null,login:()=>{},logout:()=>{},updateUser:()=>{}});const F=Array(12).fill(0),C=({visible:e,className:t})=>s.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},s.createElement("div",{className:"sonner-spinner"},F.map((e,t)=>s.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),S=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),D=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),E=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let _=1;const M=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...a}=e,r="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:_++,l=this.toasts.find(e=>e.id===r),n=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),l?this.toasts=this.toasts.map(t=>t.id===r?(this.publish({...t,...e,id:r,title:s}),{...t,...e,id:r,dismissible:n,title:s}):t):this.addToast({title:s,...a,dismissible:n,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let a;void 0!==t.loading&&(a=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let l,n=void 0!==a;const i=r.then(async e=>{l=["resolve",e];if(s.isValidElement(e))n=!1,this.create({id:a,type:"default",message:e});else if($(e)&&!e.ok){n=!1;const r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,l="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"==typeof r&&!s.isValidElement(r)?r:{message:r};this.create({id:a,type:"error",description:l,...i})}else if(e instanceof Error){n=!1;const r="function"==typeof t.error?await t.error(e):t.error,l="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!s.isValidElement(r)?r:{message:r};this.create({id:a,type:"error",description:l,...i})}else if(void 0!==t.success){n=!1;const r="function"==typeof t.success?await t.success(e):t.success,l="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!s.isValidElement(r)?r:{message:r};this.create({id:a,type:"success",description:l,...i})}}).catch(async e=>{if(l=["reject",e],void 0!==t.error){n=!1;const r="function"==typeof t.error?await t.error(e):t.error,l="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!s.isValidElement(r)?r:{message:r};this.create({id:a,type:"error",description:l,...i})}}).finally(()=>{n&&(this.dismiss(a),a=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===l[0]?t(l[1]):e(l[1])).catch(t));return"string"!=typeof a&&"number"!=typeof a?{unwrap:o}:Object.assign(a,{unwrap:o})},this.custom=(e,t)=>{const s=(null==t?void 0:t.id)||_++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,A=(e,t)=>{const s=(null==t?void 0:t.id)||_++;return M.addToast({title:e,...t,id:s}),s},B=Object.assign(A,{success:M.success,info:M.info,warning:M.warning,error:M.error,custom:M.custom,message:M.message,promise:M.promise,dismiss:M.dismiss,loading:M.loading},{getHistory:()=>M.toasts,getToasts:()=>M.getActiveToasts()});function z(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const I=3,R=14;function P(...e){return e.filter(Boolean).join(" ")}const O=e=>{var t,a,r,l,n,i,o,c,d;const{invert:m,toast:x,unstyled:u,interacting:h,setHeights:g,visibleToasts:p,heights:f,index:b,toasts:j,expanded:v,removeToast:y,defaultRichColors:N,closeButton:w,style:k,cancelButtonStyle:F,actionButtonStyle:_,className:M="",descriptionClassName:$="",duration:A,position:B,gap:I,expandByDefault:R,classNames:O,icons:H,closeButtonAriaLabel:J="Close toast"}=e,[U,W]=s.useState(null),[Y,V]=s.useState(null),[q,X]=s.useState(!1),[Z,G]=s.useState(!1),[K,Q]=s.useState(!1),[ee,te]=s.useState(!1),[se,ae]=s.useState(!1),[re,le]=s.useState(0),[ne,ie]=s.useState(0),oe=s.useRef(x.duration||A||4e3),ce=s.useRef(null),de=s.useRef(null),me=0===b,xe=b+1<=p,ue=x.type,he=!1!==x.dismissible,ge=x.className||"",pe=x.descriptionClassName||"",fe=s.useMemo(()=>f.findIndex(e=>e.toastId===x.id)||0,[f,x.id]),be=s.useMemo(()=>{var e;return null!=(e=x.closeButton)?e:w},[x.closeButton,w]),je=s.useMemo(()=>x.duration||A||4e3,[x.duration,A]),ve=s.useRef(0),ye=s.useRef(0),Ne=s.useRef(0),we=s.useRef(null),[ke,Fe]=B.split("-"),Ce=s.useMemo(()=>f.reduce((e,t,s)=>s>=fe?e:e+t.height,0),[f,fe]),Se=(()=>{const[e,t]=s.useState(document.hidden);return s.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),De=x.invert||m,Ee="loading"===ue;ye.current=s.useMemo(()=>fe*I+Ce,[fe,Ce]),s.useEffect(()=>{oe.current=je},[je]),s.useEffect(()=>{X(!0)},[]),s.useEffect(()=>{const e=de.current;if(e){const t=e.getBoundingClientRect().height;return ie(t),g(e=>[{toastId:x.id,height:t,position:x.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==x.id))}},[g,x.id]),s.useLayoutEffect(()=>{if(!q)return;const e=de.current,t=e.style.height;e.style.height="auto";const s=e.getBoundingClientRect().height;e.style.height=t,ie(s),g(e=>e.find(e=>e.toastId===x.id)?e.map(e=>e.toastId===x.id?{...e,height:s}:e):[{toastId:x.id,height:s,position:x.position},...e])},[q,x.title,x.description,g,x.id,x.jsx,x.action,x.cancel]);const Le=s.useCallback(()=>{G(!0),le(ye.current),g(e=>e.filter(e=>e.toastId!==x.id)),setTimeout(()=>{y(x)},200)},[x,y,g,ye]);s.useEffect(()=>{if(x.promise&&"loading"===ue||x.duration===1/0||"loading"===x.type)return;let e;return v||h||Se?(()=>{if(Ne.current<ve.current){const e=(new Date).getTime()-ve.current;oe.current=oe.current-e}Ne.current=(new Date).getTime()})():oe.current!==1/0&&(ve.current=(new Date).getTime(),e=setTimeout(()=>{null==x.onAutoClose||x.onAutoClose.call(x,x),Le()},oe.current)),()=>clearTimeout(e)},[v,h,x,ue,Se,Le]),s.useEffect(()=>{x.delete&&(Le(),null==x.onDismiss||x.onDismiss.call(x,x))},[Le,x.delete]);const Te=x.icon||(null==H?void 0:H[ue])||(e=>{switch(e){case"success":return S;case"info":return E;case"warning":return D;case"error":return L;default:return null}})(ue);var _e,Me,$e,Ae;return s.createElement("li",{tabIndex:0,ref:de,className:P(M,ge,null==O?void 0:O.toast,null==x||null==(t=x.classNames)?void 0:t.toast,null==O?void 0:O.default,null==O?void 0:O[ue],null==x||null==(a=x.classNames)?void 0:a[ue]),"data-sonner-toast":"","data-rich-colors":null!=(_e=x.richColors)?_e:N,"data-styled":!Boolean(x.jsx||x.unstyled||u),"data-mounted":q,"data-promise":Boolean(x.promise),"data-swiped":se,"data-removed":Z,"data-visible":xe,"data-y-position":ke,"data-x-position":Fe,"data-index":b,"data-front":me,"data-swiping":K,"data-dismissible":he,"data-type":ue,"data-invert":De,"data-swipe-out":ee,"data-swipe-direction":Y,"data-expanded":Boolean(v||R&&q),"data-testid":x.testId,style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${Z?re:ye.current}px`,"--initial-height":R?"auto":`${ne}px`,...k,...x.style},onDragEnd:()=>{Q(!1),W(null),we.current=null},onPointerDown:e=>{2!==e.button&&!Ee&&he&&(ce.current=new Date,le(ye.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Q(!0),we.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,s;if(ee||!he)return;we.current=null;const a=Number((null==(e=de.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),r=Number((null==(t=de.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),l=(new Date).getTime()-(null==(s=ce.current)?void 0:s.getTime()),n="x"===U?a:r,i=Math.abs(n)/l;if(Math.abs(n)>=45||i>.11)return le(ye.current),null==x.onDismiss||x.onDismiss.call(x,x),V("x"===U?a>0?"right":"left":r>0?"down":"up"),Le(),void te(!0);var o,c;null==(o=de.current)||o.style.setProperty("--swipe-amount-x","0px"),null==(c=de.current)||c.style.setProperty("--swipe-amount-y","0px"),ae(!1),Q(!1),W(null)},onPointerMove:t=>{var s,a,r;if(!we.current||!he)return;if((null==(s=window.getSelection())?void 0:s.toString().length)>0)return;const l=t.clientY-we.current.y,n=t.clientX-we.current.x;var i;const o=null!=(i=e.swipeDirections)?i:function(e){const[t,s]=e.split("-"),a=[];return t&&a.push(t),s&&a.push(s),a}(B);!U&&(Math.abs(n)>1||Math.abs(l)>1)&&W(Math.abs(n)>Math.abs(l)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===U){if(o.includes("top")||o.includes("bottom"))if(o.includes("top")&&l<0||o.includes("bottom")&&l>0)c.y=l;else{const e=l*d(l);c.y=Math.abs(e)<Math.abs(l)?e:l}}else if("x"===U&&(o.includes("left")||o.includes("right")))if(o.includes("left")&&n<0||o.includes("right")&&n>0)c.x=n;else{const e=n*d(n);c.x=Math.abs(e)<Math.abs(n)?e:n}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ae(!0),null==(a=de.current)||a.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(r=de.current)||r.style.setProperty("--swipe-amount-y",`${c.y}px`)}},be&&!x.jsx&&"loading"!==ue?s.createElement("button",{"aria-label":J,"data-disabled":Ee,"data-close-button":!0,onClick:Ee||!he?()=>{}:()=>{Le(),null==x.onDismiss||x.onDismiss.call(x,x)},className:P(null==O?void 0:O.closeButton,null==x||null==(r=x.classNames)?void 0:r.closeButton)},null!=(Me=null==H?void 0:H.close)?Me:T):null,(ue||x.icon||x.promise)&&null!==x.icon&&(null!==(null==H?void 0:H[ue])||x.icon)?s.createElement("div",{"data-icon":"",className:P(null==O?void 0:O.icon,null==x||null==(l=x.classNames)?void 0:l.icon)},x.promise||"loading"===x.type&&!x.icon?x.icon||((null==H?void 0:H.loading)?s.createElement("div",{className:P(null==O?void 0:O.loader,null==x||null==(Ae=x.classNames)?void 0:Ae.loader,"sonner-loader"),"data-visible":"loading"===ue},H.loading):s.createElement(C,{className:P(null==O?void 0:O.loader,null==x||null==($e=x.classNames)?void 0:$e.loader),visible:"loading"===ue})):null,"loading"!==x.type?Te:null):null,s.createElement("div",{"data-content":"",className:P(null==O?void 0:O.content,null==x||null==(n=x.classNames)?void 0:n.content)},s.createElement("div",{"data-title":"",className:P(null==O?void 0:O.title,null==x||null==(i=x.classNames)?void 0:i.title)},x.jsx?x.jsx:"function"==typeof x.title?x.title():x.title),x.description?s.createElement("div",{"data-description":"",className:P($,pe,null==O?void 0:O.description,null==x||null==(o=x.classNames)?void 0:o.description)},"function"==typeof x.description?x.description():x.description):null),s.isValidElement(x.cancel)?x.cancel:x.cancel&&z(x.cancel)?s.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||F,onClick:e=>{z(x.cancel)&&he&&(null==x.cancel.onClick||x.cancel.onClick.call(x.cancel,e),Le())},className:P(null==O?void 0:O.cancelButton,null==x||null==(c=x.classNames)?void 0:c.cancelButton)},x.cancel.label):null,s.isValidElement(x.action)?x.action:x.action&&z(x.action)?s.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||_,onClick:e=>{z(x.action)&&(null==x.action.onClick||x.action.onClick.call(x.action,e),e.defaultPrevented||Le())},className:P(null==O?void 0:O.actionButton,null==x||null==(d=x.classNames)?void 0:d.actionButton)},x.action.label):null)};function H(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function J(e,t){const s={};return[e,t].forEach((e,t)=>{const a=1===t,r=a?"--mobile-offset":"--offset",l=a?"16px":"24px";function n(e){["top","right","bottom","left"].forEach(t=>{s[`${r}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?n(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?s[`${r}-${t}`]=l:s[`${r}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):n(l)}),s}const U=s.forwardRef(function(e,t){const{id:a,invert:r,position:l="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:c,className:d,offset:m,mobileOffset:x,theme:u="light",richColors:h,duration:g,style:p,visibleToasts:f=I,toastOptions:b,dir:j=H(),gap:v=R,icons:y,containerAriaLabel:N="Notifications"}=e,[w,k]=s.useState([]),F=s.useMemo(()=>a?w.filter(e=>e.toasterId===a):w.filter(e=>!e.toasterId),[w,a]),C=s.useMemo(()=>Array.from(new Set([l].concat(F.filter(e=>e.position).map(e=>e.position)))),[F,l]),[S,D]=s.useState([]),[E,L]=s.useState(!1),[T,_]=s.useState(!1),[$,A]=s.useState("system"!==u?u:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=s.useRef(null),z=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=s.useRef(null),U=s.useRef(!1),W=s.useCallback(e=>{k(t=>{var s;return(null==(s=t.find(t=>t.id===e.id))?void 0:s.delete)||M.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return s.useEffect(()=>M.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{n.flushSync(()=>{k(t=>{const s=t.findIndex(t=>t.id===e.id);return-1!==s?[...t.slice(0,s),{...t[s],...e},...t.slice(s+1)]:[e,...t]})})})}),[w]),s.useEffect(()=>{if("system"!==u)return void A(u);if("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{A(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{A(e?"dark":"light")}catch(t){}})}},[u]),s.useEffect(()=>{w.length<=1&&L(!1)},[w]),s.useEffect(()=>{const e=e=>{var t;var s;i.every(t=>e[t]||e.code===t)&&(L(!0),null==(s=B.current)||s.focus());"Escape"!==e.code||document.activeElement!==B.current&&!(null==(t=B.current)?void 0:t.contains(document.activeElement))||L(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),s.useEffect(()=>{if(B.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,U.current=!1)}},[B.current]),s.createElement("section",{ref:t,"aria-label":`${N} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((t,a)=>{var l;const[n,i]=t.split("-");return F.length?s.createElement("ol",{key:t,dir:"auto"===j?H():j,tabIndex:-1,ref:B,className:d,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":n,"data-x-position":i,style:{"--front-toast-height":`${(null==(l=S[0])?void 0:l.height)||0}px`,"--width":"356px","--gap":`${v}px`,...p,...J(m,x)},onBlur:e=>{U.current&&!e.currentTarget.contains(e.relatedTarget)&&(U.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||U.current||(U.current=!0,P.current=e.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{T||L(!1)},onDragEnd:()=>L(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||_(!0)},onPointerUp:()=>_(!1)},F.filter(e=>!e.position&&0===a||e.position===t).map((a,l)=>{var n,i;return s.createElement(O,{key:a.id,icons:y,index:l,toast:a,defaultRichColors:h,duration:null!=(n=null==b?void 0:b.duration)?n:g,className:null==b?void 0:b.className,descriptionClassName:null==b?void 0:b.descriptionClassName,invert:r,visibleToasts:f,closeButton:null!=(i=null==b?void 0:b.closeButton)?i:c,interacting:T,position:t,style:null==b?void 0:b.style,unstyled:null==b?void 0:b.unstyled,classNames:null==b?void 0:b.classNames,cancelButtonStyle:null==b?void 0:b.cancelButtonStyle,actionButtonStyle:null==b?void 0:b.actionButtonStyle,closeButtonAriaLabel:null==b?void 0:b.closeButtonAriaLabel,removeToast:W,toasts:F.filter(e=>e.position==a.position),heights:S.filter(e=>e.position==a.position),setHeights:D,expandByDefault:o,gap:v,expanded:E,swipeDirections:e.swipeDirections})})):null}))});function W(){const[s,a]=t.useState(""),[l,n]=t.useState(""),[i,o]=t.useState(!1),[c,d]=t.useState(!1),m=r(),{login:x}=function(){const e=t.useContext(k);if(void 0===e)throw new Error("useAuth must be used within an AuthContext.Provider");return e}();t.useEffect(()=>{const e=localStorage.getItem("savedUsername"),t="true"===localStorage.getItem("rememberMe");e&&t&&(a(e),o(!0))},[]);return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md glass-card p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"登录账户"}),e.jsx("p",{className:"mt-2 text-slate-600",children:"欢迎回来，请登录您的账户"})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s&&l){d(!0);try{const e=await fetch("http://localhost:3006/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:l})});if(e.ok){const t=await e.json();if(t.success){if(localStorage.setItem("user",JSON.stringify(t.user)),i){localStorage.setItem("savedUsername",s),localStorage.setItem("rememberMe","true");const e=(new Date).getTime()+6048e5;localStorage.setItem("loginExpiry",e.toString())}else localStorage.removeItem("savedUsername"),localStorage.removeItem("rememberMe"),localStorage.removeItem("loginExpiry");x(i),B.success("登录成功！"),setTimeout(()=>{m("/dashboard")},100)}else B.error(t.message||"登录失败")}else{const t=await e.json();B.error(t.message||"用户名或密码不正确")}}catch(t){B.error("网络连接失败，请检查服务器是否正常运行")}finally{d(!1)}}else B.error("请输入用户名和密码")},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"用户名"}),e.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"form-input",value:s,onChange:e=>a(e.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"密码"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"form-input",value:l,onChange:e=>n(e.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-[#165DFF] focus:ring-[#165DFF] border-slate-300 rounded",checked:i,onChange:e=>o(e.target.checked)}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-700",children:"记住我 (7天内保持登录)"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-[#165DFF] hover:text-[#165DFF]/80",children:"忘记密码?"})})]}),e.jsx("button",{type:"submit",className:"w-full py-3 rounded-lg bg-[#165DFF] text-white hover:bg-[#165DFF]/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:c,children:c?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"登录中..."]}):"登录"})]})]})})}function Y(){const s=r(),[a,l]=t.useState("全部"),[n,i]=t.useState([]),[o,c]=t.useState([]),[d,m]=t.useState(!0),[x,u]=t.useState(null),h=async e=>{try{m(!0),u(null);let t="http://localhost:3006/api/works?limit=50";e&&"全部"!==e&&(t+=`&category=${encodeURIComponent(e)}`);const s=await fetch(t),a=await s.json();if(!a.success)throw new Error(a.message||"获取作品失败");i(a.data.works)}catch(t){u("获取作品失败，请稍后重试")}finally{m(!1)}};t.useEffect(()=>{(async()=>{try{const e=await fetch("http://localhost:3006/api/works/categories"),t=await e.json();if(!t.success)throw new Error(t.message||"获取分类失败");c(t.data)}catch(e){u("获取分类失败")}})(),h()},[]);const g="全部"===a?n:n.filter(e=>e.category===a);return d?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#165DFF] mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"加载中..."})]})}):x?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:e.jsx("i",{className:"fas fa-exclamation-triangle"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"加载失败"}),e.jsx("p",{className:"text-slate-600 mb-4",children:x}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 transition-colors",children:"重新加载"})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsxs("main",{className:"container mx-auto px-4 py-24",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-800 mb-6",children:"我的作品"}),e.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"展示我在不同领域的项目作品，包括Web开发、移动应用、UI设计等"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:["全部",...o.filter(e=>"全部"!==e)].map(t=>e.jsx("button",{onClick:()=>(e=>{l(e),h(e)})(t),className:"px-6 py-3 rounded-full transition-all duration-300 "+(a===t?"bg-[#165DFF] text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"),children:t},t))}),0===g.length?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl text-slate-300 mb-4",children:e.jsx("i",{className:"fas fa-folder-open"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"暂无作品"}),e.jsx("p",{className:"text-slate-500",children:"该分类下还没有作品"}),e.jsx("button",{className:"mt-4 px-4 py-2 text-[#165DFF] hover:bg-[#165DFF]/10 rounded-lg transition-colors",onClick:()=>l("全部"),children:"查看全部作品"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map(t=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 group",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:t.cover_image,alt:t.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300"}),e.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"w-8 h-8 bg-white/90 rounded-full flex items-center justify-center text-slate-600 hover:bg-white transition-colors",onClick:()=>s(`/works/${t.id}`),children:e.jsx("i",{className:"fas fa-eye text-sm"})}),e.jsx("button",{className:"w-8 h-8 bg-white/90 rounded-full flex items-center justify-center text-slate-600 hover:bg-white transition-colors",onClick:()=>s(`/works/${t.id}/edit`),children:e.jsx("i",{className:"fas fa-edit text-sm"})})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-3 py-1 bg-[#165DFF]/10 text-[#165DFF] text-sm rounded-full",children:t.category}),e.jsx("span",{className:"text-sm text-slate-500",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-3 group-hover:text-[#165DFF] transition-colors",children:t.title}),e.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-3",children:t.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map((t,s)=>e.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded",children:t},s))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-3",children:[t.project_url&&e.jsx("a",{href:t.project_url,target:"_blank",rel:"noopener noreferrer",className:"text-[#165DFF] hover:text-[#165DFF]/80 transition-colors",children:e.jsx("i",{className:"fas fa-external-link-alt"})}),t.github_url&&e.jsx("a",{href:t.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-slate-800 transition-colors",children:e.jsx("i",{className:"fab fa-github"})})]}),e.jsx("button",{className:"text-[#165DFF] hover:text-[#165DFF]/80 transition-colors text-sm font-medium",onClick:()=>s(`/works/${t.id}`),children:"查看详情 →"})]})]})]},t.id))}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-[#165DFF] mb-2",children:n.length}),e.jsx("div",{className:"text-slate-600",children:"总作品数"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-[#165DFF] mb-2",children:o.length-1}),e.jsx("div",{className:"text-slate-600",children:"技术领域"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-[#165DFF] mb-2",children:n.filter(e=>e.github_url).length}),e.jsx("div",{className:"text-slate-600",children:"开源项目"})]})]})})]}),e.jsx(y,{})]})}const V=({size:t="md",text:s="加载中...",className:a=""})=>e.jsxs("div",{className:`flex flex-col items-center justify-center p-4 ${a}`,children:[e.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-indigo-600 ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[t]}`}),s&&e.jsx("p",{className:`mt-2 text-gray-500 ${{sm:"text-sm",md:"text-base",lg:"text-lg"}[t]}`,children:s})]}),q=()=>{const e=l();t.useRef(!1);const s=t.useRef(null);t.useEffect(()=>{s.current&&(s.current(),s.current=null),window.scrollTo({top:0,behavior:"auto"});const e=()=>{const e=document.getElementById("backToTop");if(!e)return!1;const t=()=>{window.scrollY>100?(e.style.opacity="1",e.style.visibility="visible"):(e.style.opacity="0",e.style.visibility="hidden")},a=e=>{e.preventDefault(),e.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("scroll",t,{passive:!0}),e.addEventListener("click",a),t(),s.current=()=>{window.removeEventListener("scroll",t),e.removeEventListener("click",a)},!0};return requestAnimationFrame(()=>{if(!e()){let t=0;const s=setInterval(()=>{t++,(e()||t>=10)&&clearInterval(s)},100)}}),()=>{s.current&&(s.current(),s.current=null)}},[e.pathname])},X={'code[class*="language-"]':{color:"#ccc",background:"none",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#ccc",background:"#2d2d2d",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},':not(pre) > code[class*="language-"]':{background:"#2d2d2d",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"#999"},"block-comment":{color:"#999"},prolog:{color:"#999"},doctype:{color:"#999"},cdata:{color:"#999"},punctuation:{color:"#ccc"},tag:{color:"#e2777a"},"attr-name":{color:"#e2777a"},namespace:{color:"#e2777a"},deleted:{color:"#e2777a"},"function-name":{color:"#6196cc"},boolean:{color:"#f08d49"},number:{color:"#f08d49"},function:{color:"#f08d49"},property:{color:"#f8c555"},"class-name":{color:"#f8c555"},constant:{color:"#f8c555"},symbol:{color:"#f8c555"},selector:{color:"#cc99cd"},important:{color:"#cc99cd",fontWeight:"bold"},atrule:{color:"#cc99cd"},keyword:{color:"#cc99cd"},builtin:{color:"#cc99cd"},string:{color:"#7ec699"},char:{color:"#7ec699"},"attr-value":{color:"#7ec699"},regex:{color:"#7ec699"},variable:{color:"#7ec699"},operator:{color:"#67cdcc"},entity:{color:"#67cdcc",cursor:"help"},url:{color:"#67cdcc"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},inserted:{color:"green"}};function Z(){const{id:s}=i(),a=r(),[l,n]=t.useState(null),[o,c]=t.useState([]),[d,m]=t.useState(!0),[x,p]=t.useState(null),[f,b]=t.useState(0);q();const j=async()=>{if(!s)return p("作品ID不存在"),void m(!1);try{m(!0),p(null);const e=await fetch(`http://localhost:3006/api/works/${s}`),t=await e.json();if(!t.success)throw new Error(t.message||"获取作品详情失败");n(t.data),await N(t.data.category,t.data.id)}catch(e){p("获取作品详情失败，请稍后重试")}finally{m(!1)}},N=async(e,t)=>{try{const s=await fetch(`http://localhost:3006/api/works?category=${encodeURIComponent(e)}&limit=6`),a=await s.json();if(a.success){const e=a.data.filter(e=>e.id!==t).slice(0,3);c(e)}}catch(s){c([])}};return t.useEffect(()=>{j()},[s]),d?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsx(V,{})}):x||!l?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl text-red-500 mb-4",children:e.jsx("i",{className:"fas fa-exclamation-triangle"})}),e.jsx("h2",{className:"text-2xl font-semibold text-slate-600 mb-4",children:"加载失败"}),e.jsx("p",{className:"text-slate-500 mb-6",children:x||"作品不存在"}),e.jsxs("div",{className:"space-x-4",children:[e.jsx("button",{className:"px-6 py-3 bg-slate-500 text-white rounded-lg hover:bg-slate-600 transition-colors",onClick:()=>a("/works"),children:"返回作品列表"}),e.jsx("button",{className:"px-6 py-3 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 transition-colors",onClick:j,children:"重新加载"})]})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsxs("main",{className:"pt-16",children:[e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[e.jsx("img",{src:l.cover_image,alt:l.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:l.title}),e.jsx("p",{className:"text-xl md:text-2xl opacity-90 max-w-3xl mx-auto px-4",children:l.description})]})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm mb-8",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsx("span",{className:"px-4 py-2 bg-[#165DFF]/10 text-[#165DFF] rounded-full font-medium",children:l.category}),e.jsxs("span",{className:"text-slate-500",children:[e.jsx("i",{className:"fas fa-calendar mr-2"}),new Date(l.created_at).toLocaleDateString("zh-CN")]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:l.tags.map((t,s)=>e.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-sm",children:t},s))}),e.jsx("div",{className:"prose prose-slate max-w-none",children:e.jsx(h,{remarkPlugins:[g],components:{code({className:t,children:s,...a}){const r=/language-(\w+)/.exec(t||"");return!r?e.jsx("code",{className:t,...a,children:s}):e.jsx(u,{style:X,language:r[1],PreTag:"div",children:String(s).replace(/\n$/,"")})},img:({src:t,alt:s,...a})=>e.jsxs("div",{className:"my-6 text-center",children:[e.jsx("img",{src:t,alt:s,className:"max-w-full h-auto mx-auto rounded-lg shadow-md max-h-96 object-contain",...a}),s&&e.jsx("p",{className:"text-sm text-gray-500 mt-2 italic",children:s})]}),a:({href:t,children:s,...a})=>e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-[#165DFF] hover:text-[#0E42D2] underline",...a,children:s})},children:l.content})})]}),l.screenshots&&l.screenshots.length>0&&e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-6",children:"项目截图"}),e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:l.screenshots[f],alt:`截图 ${f+1}`,className:"w-full rounded-lg shadow-md"})}),e.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:l.screenshots.map((t,s)=>e.jsx("button",{onClick:()=>b(s),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors "+(f===s?"border-[#165DFF]":"border-slate-200 hover:border-slate-300"),children:e.jsx("img",{src:t,alt:`缩略图 ${s+1}`,className:"w-full h-full object-cover"})},s))})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:[e.jsx("i",{className:"fas fa-code mr-2 text-[#165DFF]"}),"技术栈"]}),e.jsx("div",{className:"space-y-2",children:l.technologies.map((t,s)=>e.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[e.jsx("i",{className:"fas fa-check text-green-500 text-sm"}),e.jsx("span",{children:t})]},s))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:[e.jsx("i",{className:"fas fa-star mr-2 text-[#165DFF]"}),"核心功能"]}),e.jsx("div",{className:"space-y-2",children:l.features.map((t,s)=>e.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[e.jsx("i",{className:"fas fa-check text-green-500 text-sm"}),e.jsx("span",{children:t})]},s))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:[e.jsx("i",{className:"fas fa-lightbulb mr-2 text-[#165DFF]"}),"技术挑战"]}),e.jsx("div",{className:"space-y-2",children:l.challenges.map((t,s)=>e.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[e.jsx("i",{className:"fas fa-cog text-orange-500 text-sm"}),e.jsx("span",{children:t})]},s))})]}),(l.project_url||l.github_url)&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:[e.jsx("i",{className:"fas fa-link mr-2 text-[#165DFF]"}),"项目链接"]}),e.jsxs("div",{className:"space-y-3",children:[l.project_url&&e.jsxs("a",{href:l.project_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsx("i",{className:"fas fa-external-link-alt text-[#165DFF]"}),e.jsx("span",{className:"text-slate-700",children:"在线预览"})]}),l.github_url&&e.jsxs("a",{href:l.github_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsx("i",{className:"fab fa-github text-slate-600"}),e.jsx("span",{className:"text-slate-700",children:"源代码"})]})]})]})]})]}),o.length>0&&e.jsxs("div",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-8 text-center",children:"相关作品推荐"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(t=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(`/works/${t.id}`),children:[e.jsx("img",{src:t.cover_image,alt:t.title,className:"w-full h-40 object-cover",onError:e=>{e.target.src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=400&h=250&fit=crop"}}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"px-2 py-1 bg-[#165DFF]/10 text-[#165DFF] rounded text-xs font-medium",children:t.category})}),e.jsx("h3",{className:"font-semibold text-slate-800 mb-2 line-clamp-1",children:t.title}),e.jsx("p",{className:"text-slate-600 text-sm line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[t.tags.slice(0,2).map((t,s)=>e.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded text-xs",children:t},s)),t.tags.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded text-xs",children:["+",t.tags.length-2]})]})]})]},t.id))})]})]})]}),e.jsx("button",{id:"backToTop",className:"fixed bottom-8 right-8 w-12 h-12 rounded-full bg-[#165DFF] text-white shadow-lg flex items-center justify-center opacity-0 invisible transition-all",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(y,{})]})}function G({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const K=t.forwardRef(G);function Q({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ee=t.forwardRef(Q);function te({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const se=t.forwardRef(te);function ae({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const re=t.forwardRef(ae);function le({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ne=t.forwardRef(le);function ie({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const oe=t.forwardRef(ie);function ce({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const de=t.forwardRef(ce);function me({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const xe=t.forwardRef(me);function ue({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const he=t.forwardRef(ue);function ge({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const pe=t.forwardRef(ge);function fe({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const be=t.forwardRef(fe);function je({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ve=t.forwardRef(je);function ye({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ne=t.forwardRef(ye),we=({title:t="出错了",message:s,onRetry:a,onDismiss:r,className:l=""})=>e.jsx("div",{className:`bg-red-50 border border-red-200 rounded-lg p-4 ${l}`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(re,{className:"h-5 w-5 text-red-400"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:t}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:s})}),a&&e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:a,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"重试"})})]}),r&&e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("div",{className:"-mx-1.5 -my-1.5",children:e.jsxs("button",{onClick:r,className:"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600",children:[e.jsx("span",{className:"sr-only",children:"关闭"}),e.jsx(Ne,{className:"h-5 w-5"})]})})})]})}),ke=()=>{const s=r(),[a,l]=t.useState(1),[n,i]=t.useState(""),[o,c]=t.useState("全部"),[d,m]=t.useState([]),[x,u]=t.useState(["全部"]),[h,g]=t.useState(!0),[p,f]=t.useState(null),[b,j]=t.useState(0),N=async()=>{try{g(!0),f(null);const e=new URLSearchParams({page:a.toString(),limit:6..toString(),published:"true"});n&&e.append("search",n),"全部"!==o&&e.append("category",o);const t=await fetch(`/api/blogs?${e}`);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const s=await t.json();if(!s.success)throw new Error(s.message||"获取博客数据失败");m(s.data.blogs||[]),j(s.data.total||0),s.data.blogs&&s.data.blogs.length}catch(e){f("获取博客数据失败，请稍后重试"),m([]),j(0)}finally{g(!1)}},w=Math.ceil(b/6);t.useEffect(()=>{N()},[a,n,o]),t.useEffect(()=>{(async()=>{try{const e=await fetch("/api/blogs/categories");if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();if(!t.success||!t.data)throw new Error(t.message||"获取分类失败");{const e=["全部",...t.data];u(e)}}catch(e){u(["全部"])}})()},[]),t.useEffect(()=>{1!==a&&l(1)},[n,o]),t.useEffect(()=>{const e=()=>{const e=document.querySelector(".nav-scrolled");e&&(window.scrollY>50?e.classList.add("bg-white/90","backdrop-blur-md","shadow-lg"):e.classList.remove("bg-white/90","backdrop-blur-md","shadow-lg"))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const k=e=>{l(e),window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsxs("main",{className:"container mx-auto px-4 pt-24 pb-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"Blog"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"分享前沿技术见解，探索人文科技交汇"})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"搜索文章标题、内容或标签...",value:n,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"🔍"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(t=>e.jsx("button",{onClick:()=>c(t),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors "+(o===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:t},t))})]})})}),p&&e.jsx("div",{className:"max-w-4xl mx-auto mb-6",children:e.jsx(we,{message:p,onRetry:N,onDismiss:()=>f(null)})}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[h?e.jsx("div",{className:"py-12",children:e.jsx(V,{size:"lg",text:"正在加载博客列表..."})}):d.length>0?e.jsx("div",{className:"space-y-6 mb-12",children:d.map((t,a)=>e.jsxs("article",{className:"bg-white p-6 rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-all duration-300 border-l-4 border-blue-500",onClick:()=>s(`/blog/${t.id}`),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded-full font-medium",children:t.category}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-2",children:[e.jsx("span",{children:new Date(t.created_at).toLocaleDateString("zh-CN")}),e.jsx("span",{children:"·"}),e.jsx("span",{children:t.author})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"👁"}),e.jsx("span",{children:t.views})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"❤️"}),e.jsx("span",{children:t.likes})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-800 hover:text-blue-500 transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:t.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(t=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md hover:bg-gray-200 transition-colors",children:["#",t]},t))}),e.jsxs("div",{className:"flex items-center text-blue-500 font-medium",children:[e.jsx("span",{className:"mr-2",children:"阅读全文"}),e.jsx("span",{children:"→"})]})]})]},t.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:e.jsx("span",{className:"text-2xl text-gray-400",children:"🔍"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"未找到相关文章"}),e.jsx("p",{className:"text-gray-600",children:"尝试调整搜索关键词或选择其他分类"})]}),w>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[e.jsx("button",{onClick:()=>k(a-1),disabled:1===a,className:"px-3 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx("span",{children:"←"})}),Array.from({length:w},(e,t)=>t+1).map(t=>e.jsx("button",{onClick:()=>k(t),className:"px-4 py-2 rounded-lg font-medium transition-colors "+(a===t?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"),children:t},t)),e.jsx("button",{onClick:()=>k(a+1),disabled:a===w,className:"px-3 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx("span",{children:"→"})})]})]})]}),e.jsx(y,{})]})},Fe=({content:s})=>{const[a,r]=t.useState([]),[l,n]=t.useState("");t.useEffect(()=>{let e=s;e=e.replace(/```[\s\S]*?```/g,""),e=e.replace(/`[^`]*`/g,"");const t=/^(#{1,6})\s+(.+)$/gm,a=[];let l;for(;null!==(l=t.exec(e));){const e=l[1].length,t=l[2].trim(),s=t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();a.push({id:s,text:t,level:e})}r(a)},[s]),t.useEffect(()=>{const e=()=>{const e=a.map(e=>document.getElementById(e.id)).filter(Boolean);let t="";for(let s=e.length-1;s>=0;s--){const a=e[s];if(a&&a.offsetTop<=window.scrollY+100){t=a.id;break}}n(t)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[a]);return 0===a.length?null:e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm sticky top-24",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[e.jsx("i",{className:"fas fa-list mr-2 text-[#165DFF]"}),"目录"]}),e.jsx("nav",{className:"space-y-1",children:a.map(t=>e.jsx("button",{onClick:()=>(e=>{const t=document.getElementById(e);if(t){const e=t.offsetTop-100;window.scrollTo({top:e,behavior:"smooth"})}})(t.id),className:"block w-full text-left py-1 px-2 rounded text-sm transition-colors "+(l===t.id?"bg-[#165DFF]/10 text-[#165DFF] font-medium":"text-slate-600 hover:text-[#165DFF] hover:bg-slate-50"),style:{paddingLeft:12*(t.level-1)+8+"px",fontSize:1===t.level?"14px":"13px"},children:t.text},t.id))})]})},Ce=()=>{const{id:s}=i(),a=r(),[l,n]=t.useState(null),[o,c]=t.useState([]),[d,m]=t.useState([]),[x,p]=t.useState(!0),[f,b]=t.useState(null),[j,N]=t.useState(!1),[w,k]=t.useState(0),[F,C]=t.useState(""),[S,D]=t.useState(""),[E,L]=t.useState(""),[T,_]=t.useState(!1);q();const M=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-");t.useEffect(()=>{s&&((async()=>{if(s){p(!0),b(null);try{const e=await fetch(`/api/blogs/${s}`);if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();if(!t.success)throw new Error(t.message||"获取博客详情失败");const a=t.data;if(!a)throw new Error("博客数据为空");n(a),m(a.comments||[]),k(a.likes||0)}catch(e){b(`获取博客详情失败: ${e.message}`),B.error("获取博客详情失败")}finally{p(!1)}}})(),(async()=>{try{const e=await fetch("/api/blogs?limit=6&published=true");if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();if(!(t.success&&t.data&&t.data.blogs))throw new Error(t.message||"获取相关文章失败");{const e=t.data.blogs.filter(e=>e.id!==parseInt(s)).slice(0,3);c(e)}}catch(e){}})(),A(),$())},[s]);const $=async()=>{try{const e=await fetch(`/api/blogs/${s}/view`,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){await e.json()}}catch(e){}},A=async()=>{try{const e=await fetch(`/api/blogs/${s}/comments`);if(e.ok){const t=await e.json();t.success&&m(t.data.map(e=>({id:e.id,author:e.author_name,content:e.content,date:new Date(e.created_at).toLocaleDateString(),avatar:"/default-avatar.svg",admin_reply:e.admin_reply,admin_reply_at:e.admin_reply_at?new Date(e.admin_reply_at).toLocaleDateString():void 0})))}}catch(e){}};return x?e.jsxs("div",{className:"relative min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsx("div",{className:"container mx-auto px-4 py-8 pt-24",children:e.jsx(V,{size:"lg",text:"正在加载博客详情..."})})]}):l?e.jsxs("div",{className:"relative min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8 pt-24",children:[e.jsxs("button",{onClick:()=>a("/blogs"),className:"flex items-center text-blue-500 hover:text-blue-700 mb-6 transition duration-300",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Blog"]}),f&&e.jsx("div",{className:"mb-6",children:e.jsx(we,{message:f,onDismiss:()=>b(null)})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:l.title}),e.jsxs("div",{className:"flex flex-wrap items-center text-gray-600 mb-4",children:[e.jsxs("span",{className:"mr-4 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.author]}),e.jsxs("span",{className:"mr-4 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(z=l.created_at,new Date(z).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}))]}),e.jsxs("span",{className:"mr-4 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),l.category]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),w," likes"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:l.tags.map((t,s)=>e.jsx("span",{className:"bg-gray-100 text-gray-800 text-sm px-3 py-1 rounded-full",children:t},s))})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"relative w-full h-64 md:h-80 lg:h-96 overflow-hidden rounded-lg shadow-md",children:e.jsx("img",{src:l.cover_image,alt:l.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx(h,{remarkPlugins:[g],components:{code({className:t,children:s,...a}){const r=/language-(\w+)/.exec(t||"");return!r?e.jsx("code",{className:t,...a,children:s}):e.jsx(u,{style:X,language:r[1],PreTag:"div",children:String(s).replace(/\n$/,"")})},img:({src:t,alt:s,...a})=>e.jsxs("div",{className:"my-6 text-center",children:[e.jsx("img",{src:t,alt:s,className:"max-w-full h-auto mx-auto rounded-lg shadow-md max-h-96 object-contain",...a}),s&&e.jsx("p",{className:"text-sm text-gray-500 mt-2 italic",children:s})]}),a:({href:t,children:s,...a})=>e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-[#165DFF] hover:text-[#0E42D2] underline",...a,children:s}),h1:({children:t,...s})=>{const a=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return e.jsx("h1",{id:a,...s,children:t})},h2:({children:t,...s})=>{const a=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return e.jsx("h2",{id:a,...s,children:t})},h3:({children:t,...s})=>{const a=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return e.jsx("h3",{id:a,...s,children:t})},h4:({children:t,...s})=>{const a=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return e.jsx("h4",{id:a,...s,children:t})},h5:({children:t,...s})=>{const a=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return e.jsx("h5",{id:a,...s,children:t})},h6:({children:t,...s})=>{const a=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return e.jsx("h6",{id:a,...s,children:t})}},children:l.content})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Fe,{content:l.content})})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("button",{onClick:async()=>{try{const e=await fetch(`/api/blogs/${s}/like`,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();t.success?(k(t.likes),N(!j),B.success("点赞成功！感谢您的支持 ❤️")):B.info(t.message||"您已经点过赞了")}else{const t=await e.json();B.error(t.message||"点赞失败，请稍后重试")}}catch(e){B.error("网络错误，请稍后重试")}},className:"flex items-center px-6 py-3 rounded-full transition duration-300 "+(j?"bg-red-500 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:j?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),j?"已点赞":"点赞"," (",w,")"]})}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["评论 (",d.length,")"]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),F.trim()&&S.trim()){_(!0);try{const e=await fetch(`/api/blogs/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author_name:S,author_email:E,content:F})});if(e.ok){(await e.json()).success&&(B.success("评论提交成功！"),C(""),D(""),L(""),A())}else B.error("评论提交失败，请稍后重试")}catch(t){B.error("评论提交失败，请稍后重试")}finally{_(!1)}}else B.error("请填写姓名和评论内容")},className:"mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"commentAuthor",className:"block text-gray-700 font-medium mb-2",children:"姓名 *"}),e.jsx("input",{id:"commentAuthor",type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"请输入您的姓名",value:S,onChange:e=>D(e.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"commentEmail",className:"block text-gray-700 font-medium mb-2",children:"邮箱"}),e.jsx("input",{id:"commentEmail",type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"请输入您的邮箱（可选）",value:E,onChange:e=>L(e.target.value)})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"comment",className:"block text-gray-700 font-medium mb-2",children:"评论内容 *"}),e.jsx("textarea",{id:"comment",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"请在此输入您的评论...",value:F,onChange:e=>C(e.target.value),required:!0})]}),e.jsxs("button",{type:"submit",disabled:T,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-6 py-2 rounded-lg transition duration-300 flex items-center",children:[T&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),T?"发布中...":"发布评论"]})]}),e.jsx("div",{className:"space-y-6",children:d.map(t=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("img",{src:t.avatar,alt:t.author,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("h3",{className:"font-medium mr-2",children:t.author}),e.jsx("span",{className:"text-sm text-gray-500",children:t.date})]}),e.jsx("p",{className:"text-gray-800",children:t.content})]})]}),t.admin_reply&&e.jsxs("div",{className:"mt-4 ml-16 p-3 bg-blue-50 border-l-4 border-blue-400 rounded",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{className:"font-medium text-blue-800 mr-2",children:"管理员回复"}),t.admin_reply_at&&e.jsx("span",{className:"text-sm text-blue-600",children:t.admin_reply_at})]}),e.jsx("p",{className:"text-blue-900",children:t.admin_reply})]})]},t.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"相关文章"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition duration-300",children:[e.jsx("img",{src:t.cover_image,alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded mb-2",children:t.category}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-3",children:t.excerpt}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:M(t.created_at)}),e.jsx("button",{onClick:()=>a(`/blog/${t.id}`),className:"text-blue-500 hover:text-blue-700 text-sm font-medium transition duration-300",children:"阅读更多"})]})]})]},t.id))})]})]}),e.jsx("button",{id:"backToTop",className:"fixed bottom-8 right-8 w-12 h-12 rounded-full bg-[#165DFF] text-white shadow-lg flex items-center justify-center opacity-0 invisible transition-all",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx(y,{})]}):e.jsxs("div",{className:"relative min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8 pt-24 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Blog Post Not Found"}),e.jsx("p",{className:"mb-4",children:"The blog post you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>a("/blogs"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition duration-300",children:"Back to Blog"})]})]});var z};function Se({value:s="",onChange:a,placeholder:r="请输入内容...",height:l=400}){const[n,i]=t.useState(s);return e.jsx("div",{className:"rich-text-editor",children:e.jsx(p,{value:n,onChange:e=>{const t=e||"";i(t),null==a||a(t)},preview:"edit",hideToolbar:!1,visibleDragBar:!1,textareaProps:{placeholder:r,style:{fontSize:14,lineHeight:1.6,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace'}},height:l,"data-color-mode":"light"})})}function De({activeTab:s,setActiveTab:a}){var n,i;const o=r(),c=l(),{user:d,logout:m}=t.useContext(k),x=[{path:"/dashboard",label:"仪表盘",icon:"fas fa-tachometer-alt"},{path:"/profile",label:"个人资料",icon:"fas fa-user"}],u=e=>c.pathname===e,h="/dashboard"===c.pathname;return e.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"w-full px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>o("/"),className:"text-2xl font-bold text-[#165DFF] hover:text-[#0E4BA4] transition-colors",children:"HJXLOG"}),e.jsx("span",{className:"ml-3 text-gray-400",children:"|"}),e.jsx("span",{className:"ml-3 text-gray-600 font-medium",children:"管理后台"})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:x.map(t=>e.jsxs("button",{onClick:()=>o(t.path),className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors "+(u(t.path)?"text-[#165DFF] bg-blue-50":"text-gray-600 hover:text-[#165DFF] hover:bg-gray-50"),children:[e.jsx("i",{className:`${t.icon} mr-2`}),t.label]},t.path))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#165DFF] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-medium",children:(null==(n=null==d?void 0:d.username)?void 0:n.charAt(0).toUpperCase())||"A"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(null==d?void 0:d.username)||"Admin"}),e.jsx("div",{className:"text-gray-500",children:(null==d?void 0:d.email)||"admin@example.com"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o("/"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"返回前台",children:e.jsx("i",{className:"fas fa-external-link-alt"})}),e.jsx("button",{onClick:m,className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"退出登录",children:e.jsx("i",{className:"fas fa-sign-out-alt"})})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"fas fa-bars"})})})]}),e.jsx("div",{className:"md:hidden pb-4",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[x.map(t=>e.jsxs("button",{onClick:()=>o(t.path),className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors "+(u(t.path)?"text-[#165DFF] bg-blue-50":"text-gray-600 hover:text-[#165DFF] hover:bg-gray-50"),children:[e.jsx("i",{className:`${t.icon} mr-2`}),t.label]},t.path)),e.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:e.jsxs("div",{className:"flex items-center px-3 py-2",children:[e.jsx("div",{className:"w-8 h-8 bg-[#165DFF] rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm font-medium",children:(null==(i=null==d?void 0:d.username)?void 0:i.charAt(0).toUpperCase())||"A"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(null==d?void 0:d.username)||"Admin"}),e.jsx("div",{className:"text-gray-500",children:(null==d?void 0:d.email)||"admin@example.com"})]})]})})]})}),h&&s&&a&&e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:[{key:"overview",label:"概览",icon:"fas fa-chart-pie"},{key:"works",label:"作品管理",icon:"fas fa-briefcase"},{key:"blogs",label:"博客管理",icon:"fas fa-blog"},{key:"comments",label:"评论管理",icon:"fas fa-comments"},{key:"messages",label:"消息管理",icon:"fas fa-envelope"}].map(t=>e.jsxs("button",{onClick:()=>a(t.key),className:"flex items-center px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap "+(s===t.key?"text-[#165DFF] border-[#165DFF]":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),children:[e.jsx("i",{className:`${t.icon} mr-2`}),t.label]},t.key))})})]})})}function Ee(){const{user:s,logout:a}=t.useContext(k),l=r(),[n,i]=t.useState("overview"),[o,c]=t.useState([]),[d,m]=t.useState([]),[x,u]=t.useState([]),[h,g]=t.useState([]),[p,f]=t.useState(!1),[b,j]=t.useState(!1),[v,y]=t.useState(null),[N,w]=t.useState(null),[F,C]=t.useState(null),[S,D]=t.useState(!1),[E,L]=t.useState(null),[T,_]=t.useState(!1),[M,$]=t.useState(""),[A,z]=t.useState(!0),[I,R]=t.useState(null),[P,O]=t.useState(1),[H,J]=t.useState(""),[U,W]=t.useState(""),[Y,V]=t.useState(""),[q,X]=t.useState(1),[Z,G]=t.useState(""),[K,Q]=t.useState(""),[ee,te]=t.useState(""),[se,ae]=t.useState(1),[re,le]=t.useState(""),[ne,ie]=t.useState(""),[oe,ce]=t.useState({title:"",description:"",content:"",category:"",status:"active",tags:"",technologies:"",project_url:"",github_url:"",cover_image:"",screenshots:"",features:"",challenges:"",featured:!1}),[de,me]=t.useState({title:"",content:"",excerpt:"",category:"",tags:"",published:!1,featured:!1,cover_image:""}),xe=async()=>{try{const e=await fetch("/api/works?limit=100"),t=await e.json();t.success&&t.data&&Array.isArray(t.data.works)?c(t.data.works):(c([]),R("获取作品数据失败"))}catch(e){c([]),R("获取作品数据失败")}},ue=async()=>{try{const e=await fetch("/api/blogs?limit=100"),t=await e.json();t.success?m(t.data.blogs||[]):R("获取博客数据失败")}catch(e){R("获取博客数据失败")}},he=async()=>{try{const e=await fetch("/api/messages?limit=100"),t=await e.json();t.success?u(t.data.messages||[]):R("获取消息数据失败")}catch(e){R("获取消息数据失败")}},ge=async(e,t)=>{try{const s=await fetch(`http://localhost:3006/api/messages/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})}),a=await s.json();return a.success?(await he(),B.success("消息状态更新成功"),!0):(B.error(a.message||"更新消息状态失败"),!1)}catch(s){return B.error("更新消息状态失败"),!1}},pe=async()=>{try{const e=await fetch("/api/comments"),t=await e.json();t.success?g(t.data):B.error(t.message||"获取评论失败")}catch(e){B.error("获取评论失败")}};t.useEffect(()=>{s||l("/login")},[s,l]),t.useEffect(()=>{s&&(async()=>{z(!0),await Promise.all([xe(),ue(),he(),pe()]),z(!1)})()},[s]),t.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("tab");e&&i(e)},[]);const fe=async e=>{window.confirm("确定要删除这个作品吗？")&&await(async e=>{try{const t=await fetch(`http://localhost:3006/api/works/${e}`,{method:"DELETE"}),s=await t.json();return s.success?(await xe(),B.success("作品删除成功"),!0):(B.error(s.message||"删除作品失败"),!1)}catch(t){return B.error("删除作品失败"),!1}})(e)},be=async e=>{window.confirm("确定要删除这篇博客吗？")&&await(async e=>{try{const t=await fetch(`http://localhost:3006/api/blogs/${e}`,{method:"DELETE"}),s=await t.json();return s.success?(await ue(),B.success("博客删除成功"),!0):(B.error(s.message||"删除博客失败"),!1)}catch(t){return B.error("删除博客失败"),!1}})(e)},je=e=>{var t,s,a;e?(y(e),ce({title:e.title,description:e.description,content:e.content||"",category:e.category,status:e.status,tags:e.tags.join(", "),technologies:e.technologies.join(", "),project_url:e.project_url,github_url:e.github_url,cover_image:e.cover_image,screenshots:(null==(t=e.screenshots)?void 0:t.join(", "))||"",features:(null==(s=e.features)?void 0:s.join(", "))||"",challenges:(null==(a=e.challenges)?void 0:a.join(", "))||"",featured:e.featured})):(y(null),ce({title:"",description:"",content:"",category:"",status:"active",tags:"",technologies:"",project_url:"",github_url:"",cover_image:"",screenshots:"",features:"",challenges:"",featured:!1})),f(!0)},ve=e=>{e?(w(e),me({title:e.title,content:e.content,excerpt:e.excerpt,category:e.category,tags:e.tags.join(", "),published:e.published,featured:e.featured,cover_image:e.cover_image||""})):(w(null),me({title:"",content:"",excerpt:"",category:"",tags:"",published:!1,featured:!1,cover_image:""})),j(!0)},ye=()=>{f(!1),y(null)},Ne=()=>{j(!1),w(null)},we=d.filter(e=>{const t=e.title.toLowerCase().includes(H.toLowerCase())||e.excerpt.toLowerCase().includes(H.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(H.toLowerCase())),s=!U||e.category===U,a=!Y||"已发布"===Y&&e.published||"草稿"===Y&&!e.published;return t&&s&&a}),ke=Math.ceil(we.length/5),Fe=we.slice(5*(P-1),5*P),Ce=[...new Set(d.map(e=>e.category))],Ee=o.filter(e=>{const t=e.title.toLowerCase().includes(Z.toLowerCase())||e.description.toLowerCase().includes(Z.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(Z.toLowerCase())),s=!K||e.category===K,a=!ee||e.status===ee;return t&&s&&a}),Le=Math.ceil(Ee.length/6),Te=Ee.slice(6*(q-1),6*q),_e=[...new Set(o.map(e=>e.category))],Me=[...new Set(o.map(e=>e.status))],$e=e=>{const{name:t,value:s}=e.target;me(e=>({...e,[t]:s}))},Ae=e=>{const{name:t,value:s}=e.target;ce(e=>({...e,[t]:s}))};return s?A?e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(De,{activeTab:n,setActiveTab:i}),e.jsx("main",{className:"container mx-auto px-4 py-8 w-full",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#165DFF] mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"加载中..."})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(De,{activeTab:n,setActiveTab:i}),e.jsxs("main",{className:"container mx-auto px-4 py-8 w-full",children:["overview"===n&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"控制台"}),e.jsxs("p",{className:"text-slate-600",children:["欢迎回来，",s.username,"！"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"总作品数"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:o.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-briefcase text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"总博客数"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:d.length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-blog text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"已发布博客"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:d.filter(e=>e.published).length})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-eye text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"总浏览量"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:d.reduce((e,t)=>e+t.views,0)})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-chart-line text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"未读消息"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:x.filter(e=>"unread"===e.status).length})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-envelope text-red-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"快速操作"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>je(),className:"p-4 border-2 border-dashed border-slate-200 rounded-lg hover:border-[#165DFF] hover:bg-[#165DFF]/5 transition-colors text-center",children:[e.jsx("i",{className:"fas fa-plus text-2xl text-slate-400 mb-2"}),e.jsx("p",{className:"text-slate-600",children:"添加新作品"})]}),e.jsxs("button",{onClick:()=>ve(),className:"p-4 border-2 border-dashed border-slate-200 rounded-lg hover:border-[#165DFF] hover:bg-[#165DFF]/5 transition-colors text-center",children:[e.jsx("i",{className:"fas fa-plus text-2xl text-slate-400 mb-2"}),e.jsx("p",{className:"text-slate-600",children:"添加新博客"})]}),e.jsxs("button",{onClick:()=>l("/"),className:"p-4 border-2 border-dashed border-slate-200 rounded-lg hover:border-[#165DFF] hover:bg-[#165DFF]/5 transition-colors text-center",children:[e.jsx("i",{className:"fas fa-home text-2xl text-slate-400 mb-2"}),e.jsx("p",{className:"text-slate-600",children:"查看网站"})]}),e.jsxs("button",{onClick:()=>l("/profile"),className:"p-4 border-2 border-dashed border-slate-200 rounded-lg hover:border-[#165DFF] hover:bg-[#165DFF]/5 transition-colors text-center",children:[e.jsx("i",{className:"fas fa-user text-2xl text-slate-400 mb-2"}),e.jsx("p",{className:"text-slate-600",children:"个人设置"})]})]})]})]}),T&&E&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"回复评论"}),e.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"博客文章"}),e.jsx("p",{className:"text-slate-900",children:E.blog_title||"未知博客"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"评论者"}),e.jsx("p",{className:"text-slate-900",children:E.author_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"原评论内容"}),e.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-slate-800",children:E.content})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"回复内容"}),e.jsx("textarea",{value:M,onChange:e=>$(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF] resize-none",rows:4,placeholder:"请输入回复内容...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"取消"}),e.jsx("button",{onClick:async()=>{if(M.trim()){await(async(e,t)=>{try{const s=await fetch(`/api/comments/${e}/reply`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({admin_reply:t})}),a=await s.json();return a.success?(await pe(),B.success("回复成功"),_(!1),$(""),L(null),!0):(B.error(a.message||"回复失败"),!1)}catch(s){return B.error("回复失败"),!1}})(E.id,M)&&(_(!1),$(""))}},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",disabled:!M.trim(),children:"发送回复"})]})]})]})})}),"comments"===n&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"评论管理"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("span",{className:"text-sm text-slate-600",children:["未回复评论: ",e.jsx("span",{className:"font-semibold text-orange-600",children:h.filter(e=>!e.admin_reply).length})]})})]}),e.jsx("div",{className:"space-y-4",children:h.length>0?h.map(t=>e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 "+(t.admin_reply?"border-green-500":"border-orange-500 bg-orange-50/30"),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:t.blog_title||"未知博客"}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(t.admin_reply?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:t.admin_reply?"已回复":"待回复"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600 mb-3",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"评论者:"})," ",t.author_name]}),t.author_email&&e.jsxs("span",{children:[e.jsx("strong",{children:"邮箱:"})," ",t.author_email]}),e.jsxs("span",{children:[e.jsx("strong",{children:"时间:"})," ",new Date(t.created_at).toLocaleString("zh-CN")]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"评论内容"}),e.jsx("div",{className:"bg-slate-50 p-3 rounded-lg",children:e.jsx("p",{className:"text-slate-800 text-sm",children:t.content})})]}),t.admin_reply&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"管理员回复"}),e.jsx("p",{className:"text-sm text-green-800",children:t.admin_reply}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["回复时间: ",t.admin_reply_at?new Date(t.admin_reply_at).toLocaleString("zh-CN"):""]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!t.admin_reply&&e.jsx("button",{onClick:()=>{L(t),_(!0),$("")},className:"text-gray-400 hover:text-blue-500 transition-colors p-2",title:"回复评论",children:"💬"}),e.jsx("button",{onClick:()=>(async e=>{try{const t=await fetch(`/api/comments/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s=await t.json();return s.success?(await pe(),B.success("评论删除成功"),!0):(B.error(s.message||"删除评论失败"),!1)}catch(t){return B.error("删除评论失败"),!1}})(t.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2",title:"删除评论",children:"🗑️"})]})]})},t.id)):e.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"💬"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"还没有评论"}),e.jsx("p",{className:"text-gray-600",children:"当有用户在博客文章下发表评论时，它们会显示在这里"})]})})]}),"works"===n&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"作品管理"}),e.jsxs("button",{onClick:()=>je(),className:"px-4 py-2 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 transition-colors",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"添加作品"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"搜索作品标题、描述或标签...",value:Z,onChange:e=>{return t=e.target.value,G(t),void X(1);var t},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"🔍"})]})}),e.jsx("div",{children:e.jsxs("select",{value:K,onChange:e=>{return t=e.target.value,Q(t),void X(1);var t},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"所有分类"}),_e.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("div",{children:e.jsxs("select",{value:ee,onChange:e=>{return t=e.target.value,te(t),void X(1);var t},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"所有状态"}),Me.map(t=>e.jsx("option",{value:t,children:t},t))]})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["显示 ",Te.length," 条，共 ",Ee.length," 条作品",Z&&` (搜索: "${Z}")`,K&&` (分类: ${K})`,ee&&` (状态: ${ee})`]}),(Z||K||ee)&&e.jsx("button",{onClick:()=>{G(""),Q(""),te(""),X(1)},className:"text-blue-500 hover:text-blue-600",children:"清除筛选"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Te.length>0?Te.map(t=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:t.title}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>(async(e,t)=>{try{(await fetch(`http://localhost:3006/api/works/${e}/featured`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({featured:!t})})).ok?(B.success(t?"已取消精选":"已设为精选"),xe()):B.error("操作失败，请稍后重试")}catch(s){B.error("网络错误，请稍后重试")}})(t.id,t.featured),className:"transition-colors p-1 "+(t.featured?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"),title:t.featured?"取消精选":"设为精选",children:t.featured?"⭐":"☆"}),e.jsx("button",{onClick:()=>je(t),className:"text-gray-400 hover:text-blue-500 transition-colors p-1",title:"编辑",children:"✏️"}),e.jsx("button",{onClick:()=>fe(t.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",title:"删除",children:"🗑️"})]})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 mb-3",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 rounded",children:t.category}),e.jsx("span",{className:"px-2 py-1 rounded "+("active"===t.status?"bg-green-100 text-green-600":"completed"===t.status?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:t.status})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags.map((t,s)=>e.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded",children:t},s))}),e.jsx("p",{className:"text-xs text-slate-400",children:t.date||t.created_at})]},t.id)):e.jsxs("div",{className:"col-span-full bg-white rounded-xl p-12 shadow-sm text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"💼"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:Z||K||ee?"没有找到匹配的作品":"还没有作品"}),e.jsx("p",{className:"text-gray-600 mb-6",children:Z||K||ee?"尝试调整搜索条件或筛选器":"开始添加你的第一个作品吧！"}),!(Z||K||ee)&&e.jsx("button",{onClick:()=>je(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"➕ 添加作品"})]})}),Le>1&&e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:()=>X(Math.max(1,q-1)),disabled:1===q,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"← 上一页"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:Le},(e,t)=>t+1).map(t=>e.jsx("button",{onClick:()=>X(t),className:"px-3 py-2 rounded-lg transition-colors "+(t===q?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-50"),children:t},t))}),e.jsx("button",{onClick:()=>X(Math.min(Le,q+1)),disabled:q===Le,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"下一页 →"})]})]}),"blogs"===n&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"博客管理"}),e.jsx("button",{onClick:()=>ve(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"➕ 写博客"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"搜索博客标题、内容或标签...",value:H,onChange:e=>{return t=e.target.value,J(t),void O(1);var t},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"🔍"})]})}),e.jsx("div",{children:e.jsxs("select",{value:U,onChange:e=>{return t=e.target.value,W(t),void O(1);var t},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"所有分类"}),Ce.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("div",{children:e.jsxs("select",{value:Y,onChange:e=>{return t=e.target.value,V(t),void O(1);var t},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"所有状态"}),["草稿","已发布"].map(t=>e.jsx("option",{value:t,children:t},t))]})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["显示 ",Fe.length," 条，共 ",we.length," 条博客",H&&` (搜索: "${H}")`,U&&` (分类: ${U})`,Y&&` (状态: ${Y})`]}),(H||U||Y)&&e.jsx("button",{onClick:()=>{J(""),W(""),V(""),O(1)},className:"text-blue-500 hover:text-blue-600",children:"清除筛选"})]})]}),e.jsx("div",{className:"space-y-4",children:Fe.length>0?Fe.map(t=>{return e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:t.title}),(s=t.published,e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(s?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:s?"已发布":"草稿"}))]}),e.jsx("p",{className:"text-slate-600 text-sm mb-3",children:t.excerpt}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[e.jsx("span",{children:t.category}),e.jsxs("span",{children:["👁 ",t.views||0]}),e.jsxs("span",{children:["❤️ ",t.likes||0]}),t.created_at&&e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:t.tags.map((t,s)=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["#",t]},s))})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>ve(t),className:"text-gray-400 hover:text-blue-500 transition-colors p-2",title:"编辑",children:"✏️"}),e.jsx("button",{onClick:()=>be(t.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2",title:"删除",children:"🗑️"})]})]})},t.id);var s}):e.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📝"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:H||U||Y?"没有找到匹配的博客":"还没有博客"}),e.jsx("p",{className:"text-gray-600 mb-6",children:H||U||Y?"尝试调整搜索条件或筛选器":"开始写你的第一篇博客吧！"}),!(H||U||Y)&&e.jsx("button",{onClick:()=>ve(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"➕ 写博客"})]})}),ke>1&&e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:()=>O(Math.max(1,P-1)),disabled:1===P,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"← 上一页"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:ke},(e,t)=>t+1).map(t=>e.jsx("button",{onClick:()=>O(t),className:"px-3 py-2 rounded-lg transition-colors "+(t===P?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-50"),children:t},t))}),e.jsx("button",{onClick:()=>O(Math.min(ke,P+1)),disabled:P===ke,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"下一页 →"})]})]}),"messages"===n&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"消息管理"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("span",{className:"text-sm text-slate-600",children:["未读消息: ",e.jsx("span",{className:"font-semibold text-red-600",children:x.filter(e=>"unread"===e.status).length})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"搜索发件人、邮箱、主题或内容...",value:re,onChange:e=>le(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"🔍"})]})}),e.jsx("div",{children:e.jsxs("select",{value:ne,onChange:e=>ie(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"所有状态"}),e.jsx("option",{value:"unread",children:"未读"}),e.jsx("option",{value:"read",children:"已读"}),e.jsx("option",{value:"replied",children:"已回复"})]})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["显示 ",Math.min(10,x.filter(e=>{const t=e.name.toLowerCase().includes(re.toLowerCase())||e.email.toLowerCase().includes(re.toLowerCase())||e.subject.toLowerCase().includes(re.toLowerCase())||e.message.toLowerCase().includes(re.toLowerCase()),s=!ne||e.status===ne;return t&&s}).length)," 条，共 ",x.filter(e=>{const t=e.name.toLowerCase().includes(re.toLowerCase())||e.email.toLowerCase().includes(re.toLowerCase())||e.subject.toLowerCase().includes(re.toLowerCase())||e.message.toLowerCase().includes(re.toLowerCase()),s=!ne||e.status===ne;return t&&s}).length," 条消息",re&&` (搜索: "${re}")`,ne&&` (状态: ${"unread"===ne?"未读":"read"===ne?"已读":"已回复"})`]}),(re||ne)&&e.jsx("button",{onClick:()=>{le(""),ie(""),ae(1)},className:"text-blue-500 hover:text-blue-600",children:"清除筛选"})]})]}),e.jsx("div",{className:"space-y-4",children:(()=>{const t=x.filter(e=>{const t=e.name.toLowerCase().includes(re.toLowerCase())||e.email.toLowerCase().includes(re.toLowerCase())||e.subject.toLowerCase().includes(re.toLowerCase())||e.message.toLowerCase().includes(re.toLowerCase()),s=!ne||e.status===ne;return t&&s}),s=Math.ceil(t.length/10),a=t.slice(10*(se-1),10*se);return a.length>0?e.jsxs(e.Fragment,{children:[a.map(t=>e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border-l-4 "+("unread"===t.status?"border-red-500 bg-red-50/30":"replied"===t.status?"border-green-500":"border-blue-500"),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:t.subject}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("unread"===t.status?"bg-red-100 text-red-800":"replied"===t.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"unread"===t.status?"未读":"replied"===t.status?"已回复":"已读"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600 mb-3",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"发件人:"})," ",t.name]}),e.jsxs("span",{children:[e.jsx("strong",{children:"邮箱:"})," ",t.email]}),e.jsxs("span",{children:[e.jsx("strong",{children:"时间:"})," ",new Date(t.created_at).toLocaleString("zh-CN")]})]}),e.jsx("p",{className:"text-slate-700 text-sm mb-3 line-clamp-3",children:t.message}),t.replied&&e.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800",children:"✓ 已回复"})})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{C(t),D(!0),"unread"===t.status&&ge(t.id,"read")},className:"text-gray-400 hover:text-blue-500 transition-colors p-2",title:"查看详情",children:"👁️"}),!t.replied&&e.jsx("button",{onClick:()=>ge(t.id,"replied"),className:"text-gray-400 hover:text-green-500 transition-colors p-2",title:"标记已回复",children:"✅"}),e.jsx("button",{onClick:()=>(async e=>{try{const t=await fetch(`http://localhost:3006/api/messages/${e}`,{method:"DELETE"}),s=await t.json();return s.success?(await he(),B.success("消息删除成功"),!0):(B.error(s.message||"删除消息失败"),!1)}catch(t){return B.error("删除消息失败"),!1}})(t.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2",title:"删除",children:"🗑️"})]})]})},t.id)),s>1&&e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:()=>ae(Math.max(1,se-1)),disabled:1===se,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"← 上一页"}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:s},(e,t)=>t+1).map(t=>e.jsx("button",{onClick:()=>ae(t),className:"px-3 py-2 rounded-lg transition-colors "+(t===se?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-50"),children:t},t))}),e.jsx("button",{onClick:()=>ae(Math.min(s,se+1)),disabled:se===s,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"下一页 →"})]})]}):e.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📧"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:re||ne?"没有找到匹配的消息":"还没有收到消息"}),e.jsx("p",{className:"text-gray-600",children:re||ne?"尝试调整搜索条件或筛选器":"当有用户通过联系表单发送消息时，它们会显示在这里"})]})})()})]})]}),S&&F&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"消息详情"}),e.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"发件人"}),e.jsx("p",{className:"text-slate-900",children:F.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"邮箱"}),e.jsx("p",{className:"text-slate-900",children:F.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"主题"}),e.jsx("p",{className:"text-slate-900",children:F.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"消息内容"}),e.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-slate-800 whitespace-pre-wrap",children:F.message})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-600",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"发送时间"}),e.jsx("p",{children:new Date(F.created_at).toLocaleString("zh-CN")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"状态"}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("unread"===F.status?"bg-red-100 text-red-800":"replied"===F.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"unread"===F.status?"未读":"replied"===F.status?"已回复":"已读"})]})]}),F.ip_address&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"IP地址"}),e.jsx("p",{className:"text-slate-600 text-sm",children:F.ip_address})]}),F.replied&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"回复状态"}),e.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:e.jsx("p",{className:"text-green-800",children:"✓ 已回复此消息"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[!F.replied&&e.jsx("button",{onClick:async()=>{await ge(F.id,"replied")&&C({...F,status:"replied",replied:!0})},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"标记已回复"}),e.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"关闭"})]})]})]})})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:v?"编辑作品":"添加作品"}),e.jsx("button",{onClick:ye,className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const t={title:oe.title,description:oe.description,content:oe.content,category:oe.category,status:oe.status,tags:oe.tags.split(",").map(e=>e.trim()).filter(e=>e),technologies:oe.technologies.split(",").map(e=>e.trim()).filter(e=>e),project_url:oe.project_url,github_url:oe.github_url,cover_image:oe.cover_image,screenshots:oe.screenshots.split(",").map(e=>e.trim()).filter(e=>e),features:oe.features.split(",").map(e=>e.trim()).filter(e=>e),challenges:oe.challenges.split(",").map(e=>e.trim()).filter(e=>e),featured:oe.featured};let s=!1;s=v?await(async(e,t)=>{try{const s=await fetch(`http://localhost:3006/api/works/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.json();return a.success?(await xe(),B.success("作品更新成功"),!0):(B.error(a.message||"更新作品失败"),!1)}catch(s){return B.error("更新作品失败"),!1}})(v.id,t):await(async e=>{try{const t=await fetch("http://localhost:3006/api/works",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success?(await xe(),B.success("作品创建成功"),!0):(B.error(s.message||"创建作品失败"),!1)}catch(t){return B.error("创建作品失败"),!1}})(t),s&&ye()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"标题"}),e.jsx("input",{type:"text",name:"title",value:oe.title,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"分类"}),e.jsx("input",{type:"text",name:"category",value:oe.category,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"状态"}),e.jsxs("select",{name:"status",value:oe.status,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",children:[e.jsx("option",{value:"active",children:"进行中"}),e.jsx("option",{value:"completed",children:"已完成"}),e.jsx("option",{value:"archived",children:"已归档"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"标签 (用逗号分隔)"}),e.jsx("input",{type:"text",name:"tags",value:oe.tags,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"React, TypeScript, Web开发"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"技术栈 (用逗号分隔)"}),e.jsx("input",{type:"text",name:"technologies",value:oe.technologies,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"React, Node.js, MongoDB"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"项目链接"}),e.jsx("input",{type:"url",name:"project_url",value:oe.project_url,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"GitHub链接"}),e.jsx("input",{type:"url",name:"github_url",value:oe.github_url,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"https://github.com/username/repo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"核心功能 (用逗号分隔)"}),e.jsx("input",{type:"text",name:"features",value:oe.features,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"用户认证, 数据可视化, 响应式设计"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"技术挑战 (用逗号分隔)"}),e.jsx("input",{type:"text",name:"challenges",value:oe.challenges,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"性能优化, 跨浏览器兼容, 复杂状态管理"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"描述"}),e.jsx(Se,{value:oe.description,onChange:e=>{ce(t=>({...t,description:e}))},placeholder:"请输入作品描述...",height:200})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"详细内容"}),e.jsx(Se,{value:oe.content,onChange:e=>ce(t=>({...t,content:e})),placeholder:"请输入作品的详细内容...",height:300})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"封面图片"}),e.jsx("input",{type:"url",name:"cover_image",value:oe.cover_image,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"https://example.com/cover.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"项目截图 (用逗号分隔多个URL)"}),e.jsx("input",{type:"text",name:"screenshots",value:oe.screenshots,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"https://example.com/screenshot1.jpg, https://example.com/screenshot2.jpg"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:ye,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"取消"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 transition-colors",children:v?"更新作品":"创建作品"})]})]})]})})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:N?"编辑博客":"写博客"}),e.jsx("button",{onClick:Ne,className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const t={title:de.title,content:de.content,excerpt:de.excerpt,category:de.category,tags:de.tags.split(",").map(e=>e.trim()).filter(e=>e),published:de.published,featured:de.featured,cover_image:de.cover_image};let s=!1;s=N?await(async(e,t)=>{try{const s=await fetch(`http://localhost:3006/api/blogs/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.json();return a.success?(await ue(),B.success("博客更新成功"),!0):(B.error(a.message||"更新博客失败"),!1)}catch(s){return B.error("更新博客失败"),!1}})(N.id,t):await(async e=>{try{const t=await fetch("http://localhost:3006/api/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success?(await ue(),B.success("博客创建成功"),!0):(B.error(s.message||"创建博客失败"),!1)}catch(t){return B.error("创建博客失败"),!1}})(t),s&&Ne()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"标题"}),e.jsx("input",{type:"text",name:"title",value:de.title,onChange:$e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"分类"}),e.jsx("input",{type:"text",name:"category",value:de.category,onChange:$e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"状态"}),e.jsxs("select",{name:"published",value:de.published?"true":"false",onChange:e=>me(t=>({...t,published:"true"===e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",children:[e.jsx("option",{value:"false",children:"草稿"}),e.jsx("option",{value:"true",children:"已发布"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:de.featured,onChange:e=>me(t=>({...t,featured:e.target.checked})),className:"rounded border-slate-300 text-[#165DFF] shadow-sm focus:border-[#165DFF] focus:ring-[#165DFF]"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm font-medium text-slate-700",children:"设为精选"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"封面图片"}),e.jsx("input",{type:"url",name:"cover_image",value:de.cover_image,onChange:$e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"输入图片URL"}),de.cover_image&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:de.cover_image,alt:"封面预览",className:"w-full h-32 object-cover rounded-lg",onError:e=>{e.currentTarget.style.display="none"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"摘要"}),e.jsx("input",{type:"text",name:"excerpt",value:de.excerpt,onChange:$e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"简短描述这篇博客的内容...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"标签 (用逗号分隔)"}),e.jsx("input",{type:"text",name:"tags",value:de.tags,onChange:$e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"React, JavaScript, 前端开发"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"内容"}),e.jsx(Se,{value:de.content,onChange:e=>{me(t=>({...t,content:e}))},placeholder:"开始写作...",height:400})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"取消"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 transition-colors",children:N?"更新博客":"发布博客"})]})]})]})})})]}):null}const Le=()=>e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center py-16 px-4",children:[e.jsx("h1",{className:"text-5xl font-bold mb-4 text-gray-800",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"页面未找到"}),e.jsx(o,{to:"/",className:"px-6 py-3 bg-[#165DFF] text-white rounded-full font-medium hover:bg-opacity-90 transition",children:"返回首页"})]});function Te(){const{user:s,updateUser:a,logout:l}=t.useContext(k),[n,i]=t.useState(!1),[o,c]=t.useState({username:(null==s?void 0:s.username)||"",email:(null==s?void 0:s.email)||"",bio:(null==s?void 0:s.bio)||"",avatar:(null==s?void 0:s.avatar)||""}),[d,m]=t.useState(""),[x,u]=t.useState(""),[h,g]=t.useState(""),[p,f]=t.useState(!1),b=r();if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"请先登录"}),e.jsx("button",{className:"px-4 py-2 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 transition-colors",onClick:()=>b("/login"),children:"前往登录"})]})});const j=e=>{const{name:t,value:s}=e.target;c(e=>({...e,[t]:s}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(De,{}),e.jsxs("main",{className:"container mx-auto px-4 py-24 max-w-4xl",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-10",children:"个人中心"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm lg:col-span-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[o.avatar?e.jsx("img",{src:o.avatar,alt:"用户头像",className:"w-full h-full rounded-full object-cover border-4 border-white shadow-md"}):e.jsx("div",{className:"w-full h-full rounded-full bg-[#165DFF]/10 flex items-center justify-center text-[#165DFF] text-5xl",children:e.jsx("i",{className:"fas fa-user"})}),n&&e.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 rounded-full bg-[#165DFF] text-white flex items-center justify-center shadow-md",children:e.jsx("i",{className:"fas fa-camera"})})]}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:o.username}),e.jsx("p",{className:"text-slate-600 mb-4",children:o.email}),e.jsx("button",{className:"w-full px-4 py-2 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 transition-colors",onClick:()=>i(!n),children:n?"取消编辑":"编辑资料"})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-1",children:"个人简介"}),e.jsx("p",{className:"text-slate-700 text-sm",children:o.bio||"暂无个人简介"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-2",children:"账户状态"}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#165DFF] h-2 rounded-full",style:{width:"100%"}})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"已认证账户"})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"基本信息"})}),n?e.jsxs("form",{onSubmit:e=>{e.preventDefault(),f(!0),setTimeout(()=>{try{a(o),B.success("个人资料更新成功"),i(!1)}catch(e){B.error("更新资料失败")}finally{f(!1)}},800)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"用户名"}),e.jsx("input",{type:"text",name:"username",value:o.username,onChange:j,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"邮箱"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:j,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"头像链接"}),e.jsx("input",{type:"url",name:"avatar",value:o.avatar,onChange:j,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"https://example.com/avatar.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"个人简介"}),e.jsx("textarea",{name:"bio",value:o.bio,onChange:j,rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"介绍一下自己..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"取消"}),e.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-[#165DFF] text-white rounded-lg hover:bg-[#165DFF]/90 disabled:opacity-50 transition-colors",children:p?"保存中...":"保存更改"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"用户名"}),e.jsx("p",{className:"text-slate-800",children:o.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"邮箱"}),e.jsx("p",{className:"text-slate-800",children:o.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"个人简介"}),e.jsx("p",{className:"text-slate-800",children:o.bio||"暂无个人简介"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"修改密码"}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),d&&x&&h)if(x===h)if(x.length<6)B.error("新密码长度至少为6位");else{f(!0);try{const e=await fetch(`http://localhost:3006/api/users/${null==s?void 0:s.id}/password`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:d,newPassword:x})}),t=await e.json();t.success?(B.success("密码更新成功，请重新登录"),m(""),u(""),g(""),l()):B.error(t.message||"更新密码失败")}catch(t){B.error("网络错误，请稍后重试")}finally{f(!1)}}else B.error("新密码和确认密码不匹配");else B.error("请填写所有密码字段")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"当前密码"}),e.jsx("input",{type:"password",value:d,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"请输入当前密码"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"新密码"}),e.jsx("input",{type:"password",value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"请输入新密码"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"确认新密码"}),e.jsx("input",{type:"password",value:h,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#165DFF]/20 focus:border-[#165DFF]",placeholder:"请再次输入新密码"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 transition-colors",children:p?"更新中...":"更新密码"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"账户设置"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-800",children:"邮件通知"}),e.jsx("p",{className:"text-sm text-slate-600",children:"接收新评论和系统通知"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#165DFF]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#165DFF]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-800",children:"双因素认证"}),e.jsx("p",{className:"text-sm text-slate-600",children:"为账户添加额外的安全保护"})]}),e.jsx("button",{className:"px-3 py-1 text-sm border border-slate-300 text-slate-700 rounded hover:bg-slate-50 transition-colors",children:"设置"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-800",children:"删除账户"}),e.jsx("p",{className:"text-sm text-red-600",children:"永久删除您的账户和所有数据"})]}),e.jsx("button",{className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"删除"})]})]})]})]})]})]})]})}const _e=()=>{const s=r(),[a,l]=t.useState([]),[n,i]=t.useState(!0),[o,c]=t.useState(null),[d,m]=t.useState(""),[x,u]=t.useState(""),[h,g]=t.useState(!1),[p,f]=t.useState(1),[b,j]=t.useState(0),v=async()=>{i(!0),c(null);try{const e=new URLSearchParams({page:p.toString(),limit:10..toString(),...d&&{search:d},...x&&{category:x},...h&&{published:"true"}}),t=await fetch(`http://localhost:3006/api/blogs?${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=await t.json();l(s.blogs||[]),j(s.total||0)}catch(e){c("获取博客列表失败"),B.error("API连接失败"),l([]),j(0)}finally{i(!1)}};t.useEffect(()=>{v()},[p,d,x,h]);const y=Math.ceil(b/10);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"博客管理"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"管理您的博客文章，创建、编辑和发布内容"})]}),e.jsxs("button",{onClick:()=>s("/admin/blog/create"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),"新建博客"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜索博客...",value:d,onChange:e=>m(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsxs("select",{value:x,onChange:e=>u(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"所有分类"}),e.jsx("option",{value:"Technology",children:"技术"}),e.jsx("option",{value:"React",children:"React"}),e.jsx("option",{value:"JavaScript",children:"JavaScript"}),e.jsx("option",{value:"CSS",children:"CSS"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"publishedOnly",checked:h,onChange:e=>g(e.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"publishedOnly",className:"ml-2 text-sm text-gray-700",children:"仅显示已发布"})]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),"共 ",b," 篇博客"]})]})}),o&&e.jsx("div",{className:"mb-6",children:e.jsx(we,{message:o,onRetry:v,onDismiss:()=>c(null)})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n?e.jsx(V,{size:"lg",text:"正在加载博客列表..."}):0===a.length?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"没有找到博客文章"})}):e.jsx("ul",{className:"divide-y divide-gray-200",children:a.map(t=>{return e.jsx("li",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:t.title}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(t.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.published?"已发布":"草稿"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:t.excerpt}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["分类: ",t.category]}),e.jsxs("span",{children:["创建: ",(a=t.created_at,new Date(a).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"}))]}),void 0!==t.views&&e.jsxs("span",{children:["浏览: ",t.views]}),void 0!==t.likes&&e.jsxs("span",{children:["点赞: ",t.likes]})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:t.tags.map((t,s)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:t},s))})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>s(`/blog/${t.id}`),className:"p-2 text-gray-400 hover:text-gray-600",title:"查看",children:e.jsx(ne,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>s(`/admin/blog/edit/${t.id}`),className:"p-2 text-indigo-400 hover:text-indigo-600",title:"编辑",children:e.jsx(he,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>(async(e,t)=>{try{const s=await fetch(`http://localhost:3006/api/blogs/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({published:t})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);B.success("博客已"+(t?"发布":"取消发布")),v()}catch(s){B.error("更新发布状态失败")}})(t.id,!t.published),className:"px-3 py-1 rounded text-xs font-medium "+(t.published?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200"),title:t.published?"取消发布":"发布",children:t.published?"取消发布":"发布"}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("确定要删除这篇博客吗？此操作不可撤销。"))try{const t=await fetch(`http://localhost:3006/api/blogs/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);B.success("博客删除成功"),v()}catch(t){B.error("删除博客失败")}})(t.id),className:"p-2 text-red-400 hover:text-red-600",title:"删除",children:e.jsx(ve,{className:"h-5 w-5"})})]})]})},t.id);var a})})}),y>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>f(Math.max(1,p-1)),disabled:1===p,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一页"}),e.jsx("button",{onClick:()=>f(Math.min(y,p+1)),disabled:p===y,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一页"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["显示第 ",e.jsx("span",{className:"font-medium",children:10*(p-1)+1})," 到"," ",e.jsx("span",{className:"font-medium",children:Math.min(10*p,b)})," ","条，共 ",e.jsx("span",{className:"font-medium",children:b})," 条结果"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>f(Math.max(1,p-1)),disabled:1===p,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一页"}),Array.from({length:Math.min(5,y)},(t,s)=>{const a=s+1;return e.jsx("button",{onClick:()=>f(a),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(p===a?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:a},a)}),e.jsx("button",{onClick:()=>f(Math.min(y,p+1)),disabled:p===y,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一页"})]})})]})]})]})]})},Me=()=>{const{id:s}=i(),a=r(),l=Boolean(s),[n,o]=t.useState({title:"",content:"",excerpt:"",category:"",tags:[],published:!1,featured:!1,cover_image:"",author:"Admin"}),[c,d]=t.useState(!1),[m,x]=t.useState(!1),[u,h]=t.useState(!1),[g,p]=t.useState(""),[f,b]=t.useState(null);t.useEffect(()=>{l&&s&&j()},[s,l]);const j=async()=>{d(!0);try{const e=await fetch(`http://localhost:3006/api/blogs/${s}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();o({title:t.title||"",content:t.content||"",excerpt:t.excerpt||"",category:t.category||"",tags:t.tags||[],published:t.published||!1,featured:t.featured||!1,cover_image:t.cover_image||"",author:t.author||"Admin"})}catch(e){B.error("加载博客失败"),a("/admin/blogs")}finally{d(!1)}},v=async(e=!1)=>{if(n.title.trim())if(n.content.trim()){x(!0);try{const t={...n,published:e,excerpt:n.excerpt||n.content.substring(0,200)+"..."};if(l){const e=await fetch(`http://localhost:3006/api/blogs/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);B.success("博客更新成功")}else{const e=await fetch("http://localhost:3006/api/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);B.success("博客创建成功"),a("/admin/blogs")}}catch(t){B.error("保存博客失败")}finally{x(!1)}}else B.error("请输入博客内容");else B.error("请输入博客标题")},y=()=>{const e=g.trim();e&&!n.tags.includes(e)&&(o(t=>({...t,tags:[...t.tags,e]})),p(""))};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(V,{size:"lg",text:"正在加载博客数据..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>a("/admin/blogs"),className:"p-2 text-gray-400 hover:text-gray-600",children:e.jsx(K,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:l?"编辑博客":"新建博客"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>h(!u),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 "+(u?"bg-gray-100":""),children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),u?"编辑":"预览"]}),e.jsx("button",{onClick:()=>v(!1),disabled:m,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?"保存中...":"保存草稿"}),e.jsx("button",{onClick:()=>v(!0),disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?"发布中...":"发布"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-white rounded-lg shadow",children:u?e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.title||"无标题"}),n.excerpt&&e.jsx("div",{className:"text-lg text-gray-600 mb-6 p-4 bg-gray-50 rounded-lg border-l-4 border-indigo-500",children:n.excerpt}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:n.content||"暂无内容"})})]}):e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",placeholder:"输入博客标题...",value:n.title,onChange:e=>o(t=>({...t,title:e.target.value})),className:"w-full text-3xl font-bold border-none outline-none placeholder-gray-400 resize-none"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"摘要 (可选)"}),e.jsx("textarea",{placeholder:"输入博客摘要...",value:n.excerpt,onChange:e=>o(t=>({...t,excerpt:e.target.value})),rows:3,className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"内容"}),e.jsx("textarea",{placeholder:"开始写作...",value:n.content,onChange:e=>o(t=>({...t,content:e.target.value})),rows:20,className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"支持 Markdown 语法"})]})]})})}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2"}),"发布状态"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"published",checked:n.published,onChange:e=>o(t=>({...t,published:e.target.checked})),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"published",className:"ml-2 text-sm text-gray-700",children:"立即发布"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:n.featured,onChange:e=>o(t=>({...t,featured:e.target.checked})),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-700",children:"设为精选"})]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(ee,{className:"h-4 w-4 mr-1"}),l?"最后更新":"创建时间",": ",(new Date).toLocaleDateString("zh-CN")]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(oe,{className:"h-5 w-5 mr-2"}),"分类"]}),e.jsxs("select",{value:n.category,onChange:e=>o(t=>({...t,category:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"选择分类"}),["Technology","React","JavaScript","CSS","Node.js","TypeScript","Web Development","Tutorial","Tips & Tricks"].map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"封面图片"}),e.jsx("input",{type:"url",placeholder:"输入图片URL",value:n.cover_image,onChange:e=>o(t=>({...t,cover_image:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),n.cover_image&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:n.cover_image,alt:"封面预览",className:"w-full h-32 object-cover rounded-md",onError:e=>{e.currentTarget.style.display="none"}})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(be,{className:"h-5 w-5 mr-2"}),"标签"]}),e.jsxs("div",{className:"flex mb-4",children:[e.jsx("input",{type:"text",placeholder:"添加标签",value:g,onChange:e=>p(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),y())},className:"flex-1 rounded-l-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-r-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"添加"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((t,s)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{onClick:()=>{return e=t,void o(t=>({...t,tags:t.tags.filter(t=>t!==e)}));var e},className:"ml-2 text-indigo-600 hover:text-indigo-800",children:"×"})]},s))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"作者"}),e.jsx("input",{type:"text",value:n.author,onChange:e=>o(t=>({...t,author:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]})})]})},$e=()=>{const e=new Date;return e.setDate(e.getDate()+7),e.toISOString()};function Ae(){const[s,a]=t.useState(!1),[l,n]=t.useState(null),i=r();t.useEffect(()=>{const e=localStorage.getItem("auth");if(e)try{const s=JSON.parse(e);s.token&&s.expiration&&(t=s.expiration,new Date(t)>new Date)?(a(!0),n(s.user||{id:"1",username:"Admin",email:"admin@example.com"})):localStorage.removeItem("auth")}catch(l){localStorage.removeItem("auth")}var t;const s=localStorage.getItem("works");if(s)try{JSON.parse(s)}catch(l){}const r=localStorage.getItem("blogs");if(r)try{JSON.parse(r)}catch(l){}},[]);return e.jsxs(k.Provider,{value:{isAuthenticated:s,login:(e=!1)=>{a(!0);const t=localStorage.getItem("user");let s=null;if(t)try{s=JSON.parse(t)}catch(r){}if(s||(s={id:"1",username:"Admin",email:"admin@example.com"}),n(s),e){const e={token:"token-"+Date.now(),expiration:$e(),user:s};localStorage.setItem("auth",JSON.stringify(e))}},logout:()=>{a(!1),n(null),localStorage.removeItem("auth"),i("/login")},user:l,updateUser:e=>{if(l){const s={...l,...e};n(s);const a=localStorage.getItem("auth");if(a)try{const e=JSON.parse(a);e.user=s,localStorage.setItem("auth",JSON.stringify(e))}catch(t){}}}},children:[e.jsx(U,{position:"top-right",richColors:!0}),e.jsxs(c,{children:[e.jsx(d,{path:"/",element:e.jsx(w,{})}),e.jsx(d,{path:"/login",element:e.jsx(W,{})}),e.jsx(d,{path:"/works",element:e.jsx(Y,{})}),e.jsx(d,{path:"/works/:id",element:e.jsx(Z,{})}),e.jsx(d,{path:"/blogs",element:e.jsx(ke,{})}),e.jsx(d,{path:"/blog/:id",element:e.jsx(Ce,{})}),e.jsx(d,{path:"/dashboard",element:s?e.jsx(Ee,{}):e.jsx(W,{})}),e.jsx(d,{path:"/profile",element:s?e.jsx(Te,{}):e.jsx(W,{})}),e.jsx(d,{path:"/admin/blogs",element:s?e.jsx(_e,{}):e.jsx(W,{})}),e.jsx(d,{path:"/admin/blog/create",element:s?e.jsx(Me,{}):e.jsx(W,{})}),e.jsx(d,{path:"/admin/blog/edit/:id",element:s?e.jsx(Me,{}):e.jsx(W,{})}),e.jsx(d,{path:"*",element:e.jsx(Le,{})})]})]})}j.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(m,{children:e.jsx(Ae,{})})}));
